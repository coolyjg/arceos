cd src && make all
make[1]: Entering directory '/home/yanjuguang/OS/arceos/apps/c/redis/src'
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MM acl.c adlist.c ae.c anet.c aof.c bio.c bitops.c blocked.c call_reply.c childinfo.c cluster.c commands.c config.c connection.c crc16.c crc64.c crcspeed.c db.c debug.c defrag.c dict.c endianconv.c eval.c evict.c expire.c function_lua.c functions.c geo.c geohash.c geohash_helper.c hyperloglog.c intset.c latency.c lazyfree.c listpack.c localtime.c logreqres.c lolwut.c lolwut5.c lolwut6.c lzf_c.c lzf_d.c memtest.c module.c monotonic.c mt19937-64.c multi.c networking.c notify.c object.c pqsort.c pubsub.c quicklist.c rand.c rax.c rdb.c redis-check-aof.c redis-check-rdb.c release.c replication.c resp_parser.c rio.c script.c script_lua.c sds.c sentinel.c server.c setcpuaffinity.c setproctitle.c sha1.c sha256.c siphash.c slowlog.c socket.c sort.c sparkline.c strl.c syncio.c syscheck.c t_hash.c t_list.c t_set.c t_stream.c t_string.c t_zset.c timeout.c tls.c tracking.c unix.c util.c ziplist.c zipmap.c zmalloc.c > Makefile.dep 2> /dev/null || true
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o adlist.o -c adlist.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o quicklist.o -c quicklist.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o ae.o -c ae.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o anet.o -c anet.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o dict.o -c dict.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o server.o -c server.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o sds.o -c sds.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o zmalloc.o -c zmalloc.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o lzf_c.o -c lzf_c.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o lzf_d.o -c lzf_d.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o pqsort.o -c pqsort.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o zipmap.o -c zipmap.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o sha1.o -c sha1.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o ziplist.o -c ziplist.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o release.o -c release.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o networking.o -c networking.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o util.o -c util.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o object.o -c object.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o db.o -c db.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o replication.o -c replication.c
aarch64-linux-musl-gcc -pedantic -DREDIS_STATIC= -std=c11 -Wall -W -Wno-missing-field-initializers -Werror=deprecated-declarations -O3 -g -ggdb -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -Werror -nostdinc -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -I../deps/hdr_histogram -I../deps/fpconv -I/home/yanjuguang/OS/arceos/ulib/c_libax/include -nostdinc -MMD -o rdb.o -c rdb.c
In file included from quicklist.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from quicklist.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
In file included from dict.c:38:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from redisassert.h:41,
                 from ae.c:35:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
In file included from monotonic.h:15,
                 from ae.h:36,
                 from ae.c:33:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
In file included from dict.c:41:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/sys/time.h:23,
                 from anet.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/netinet/in.h:6,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/sys/un.h:2,
                 from anet.c:36:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from dict.c:43:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/sys/time.h:23,
                 from dict.c:44:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stddef.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stdlib.h:4,
                 from dict.c:39:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
In file included from sds.c:33:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from sds.c:35:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from sds.c:38:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
In file included from ae.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from anet.c:43:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
In file included from lzfP.h:144,
                 from lzf_c.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
In file included from zipmap.c:78:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
In file included from ae.c:43:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
In file included from lzfP.h:144,
                 from lzf_d.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
In file included from lzfP.h:145,
                 from lzf_c.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
In file included from zipmap.c:79:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
<built-in>: note: this is the location of the previous definition
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
In file included from anet.c:47:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
In file included from ziplist.c:183:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
In file included from lzfP.h:145,
                 from lzf_d.c:37:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
<built-in>: note: this is the location of the previous definition
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
In file included from util.c:33:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
In file included from release.c:34:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
In file included from rio.h:35,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
In file included from sha1.c:24:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
In file included from ziplist.c:185:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
In file included from rio.h:36,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
In file included from util.c:34:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
In file included from ae_epoll.c:32,
                 from ae.c:56:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/sys/epoll.h:36:15: error: ISO C restricts enumerator values to range of ‘int’ [-Werror=pedantic]
   36 |     EPOLLET = 1u << 31
      |               ^~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
In file included from sha1.c:25:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:6:1: note: ‘memset’ is declared in header ‘<string.h>’
    5 | #include <stddef.h>
  +++ |+#include <string.h>
    6 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
In file included from release.c:35:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from endianconv.h:36,
                 from zipmap.c:81:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:4,
                 from zipmap.c:79:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
In file included from ziplist.c:187:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
<built-in>: note: this is the location of the previous definition
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
In file included from util.c:36:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
<built-in>: note: this is the location of the previous definition
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from zmalloc.c:35:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/sys/time.h:23,
                 from util.c:39:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stddef.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stdlib.h:4,
                 from util.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stddef.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stdlib.h:4,
                 from zmalloc.c:36:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from zmalloc.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from sha1.c:29:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:4,
                 from sha1.c:25:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
zmalloc.c: In function ‘zlibc_free’:
zmalloc.c:50:5: error: implicit declaration of function ‘free’ [-Werror=implicit-function-declaration]
   50 |     free(ptr);
      |     ^~~~
zmalloc.c:43:1: note: include ‘<stdlib.h>’ or provide a declaration of ‘free’
   42 | #include <sys/mman.h>
  +++ |+#include <stdlib.h>
   43 | #endif
zmalloc.c:50:5: error: incompatible implicit declaration of built-in function ‘free’ [-Werror=builtin-declaration-mismatch]
   50 |     free(ptr);
      |     ^~~~
zmalloc.c:50:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘free’
In file included from ae.c:56:
ae_epoll.c: In function ‘aeApiCreate’:
ae_epoll.c:48:19: error: implicit declaration of function ‘epoll_create’ [-Werror=implicit-function-declaration]
   48 |     state->epfd = epoll_create(1024); /* 1024 is just a hint for the kernel */
      |                   ^~~~~~~~~~~~
In file included from zmalloc.c:53:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
ae_epoll.c: In function ‘aeApiFree’:
ae_epoll.c:69:5: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
   69 |     close(state->epfd);
      |     ^~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from quicklist.c:33:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
util.c:45:10: fatal error: dirent.h: No such file or directory
   45 | #include <dirent.h>
      |          ^~~~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
cc1: all warnings being treated as errors
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
In file included from rio.h:35,
                 from server.h:36,
                 from networking.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
ae_epoll.c: In function ‘aeApiAddEvent’:
compilation terminated.
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
ae_epoll.c:87:9: error: implicit declaration of function ‘epoll_ctl’ [-Werror=implicit-function-declaration]
   87 |     if (epoll_ctl(state->epfd,op,fd,&ee) == -1) return -1;
      |         ^~~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
In file included from rio.h:36,
                 from server.h:36,
                 from networking.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from networking.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from rio.h:35,
                 from server.h:36,
                 from object.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
zmalloc.c: In function ‘ztrymalloc_usable’:
anet.c: In function ‘anetSetError’:
In file included from rio.h:36,
                 from server.h:36,
                 from object.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
zmalloc.c:110:17: error: implicit declaration of function ‘malloc’ [-Werror=implicit-function-declaration]
  110 |     void *ptr = malloc(MALLOC_MIN_SIZE(size)+PREFIX_SIZE);
      |                 ^~~~~~
anet.c:61:5: error: implicit declaration of function ‘vsnprintf’ [-Werror=implicit-function-declaration]
   61 |     vsnprintf(err, ANET_ERR_LEN, fmt, ap);
      |     ^~~~~~~~~
zmalloc.c:110:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘malloc’
anet.c:52:1: note: include ‘<stdio.h>’ or provide a declaration of ‘vsnprintf’
   51 | #include "util.h"
  +++ |+#include <stdio.h>
   52 | 
zmalloc.c:110:17: error: incompatible implicit declaration of built-in function ‘malloc’ [-Werror=builtin-declaration-mismatch]
zmalloc.c:110:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘malloc’
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from object.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
In file included from anet.c:49:
anet.h:39:22: error: ‘vsnprintf’ argument 2 type is ‘int’ where ‘long unsigned int’ is expected in a call to built-in function declared without prototype [-Werror=builtin-declaration-mismatch]
   39 | #define ANET_ERR_LEN 256
      |                      ^~~
anet.c:61:20: note: in expansion of macro ‘ANET_ERR_LEN’
   61 |     vsnprintf(err, ANET_ERR_LEN, fmt, ap);
      |                    ^~~~~~~~~~~~
<built-in>: note: built-in ‘vsnprintf’ declared here
zipmap.c: In function ‘zipmapSet’:
zipmap.c:247:13: error: implicit declaration of function ‘memmove’ [-Werror=implicit-function-declaration]
  247 |             memmove(p+reqlen, p+freelen, zmlen-(offset+freelen+1));
      |             ^~~~~~~
zipmap.c:82:1: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
   81 | #include "endianconv.h"
  +++ |+#include <string.h>
   82 | 
ae_epoll.c: In function ‘aeApiPoll’:
zipmap.c:247:13: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  247 |             memmove(p+reqlen, p+freelen, zmlen-(offset+freelen+1));
      |             ^~~~~~~
ae_epoll.c:113:14: error: implicit declaration of function ‘epoll_wait’ [-Werror=implicit-function-declaration]
  113 |     retval = epoll_wait(state->epfd,state->events,eventLoop->setsize,
      |              ^~~~~~~~~~
zipmap.c:247:13: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
zipmap.c:262:9: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  262 |         memmove(p+reqlen, p+freelen, zmlen-(offset+freelen+1));
      |         ^~~~~~~
zipmap.c:262:9: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
zmalloc.c: In function ‘ztrycalloc_usable’:
zipmap.c: In function ‘zipmapDel’:
zmalloc.c:171:17: error: implicit declaration of function ‘calloc’ [-Werror=implicit-function-declaration]
  171 |     void *ptr = calloc(1, MALLOC_MIN_SIZE(size)+PREFIX_SIZE);
      |                 ^~~~~~
zmalloc.c:171:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘calloc’
zipmap.c:290:9: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  290 |         memmove(p, p+freelen, zmlen-((p-zm)+freelen+1));
      |         ^~~~~~~
zmalloc.c:171:17: error: incompatible implicit declaration of built-in function ‘calloc’ [-Werror=builtin-declaration-mismatch]
zipmap.c:290:9: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
zmalloc.c:171:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘calloc’
make[1]: *** [Makefile:434: util.o] Error 1
In file included from rio.h:38,
                 from server.h:36,
                 from server.c:30:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from ziplist.c:191:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
make[1]: *** Waiting for unfinished jobs....
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stddef.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/stdlib.h:4,
                 from ziplist.c:184:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
In file included from rio.h:35,
                 from server.h:36,
                 from db.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from ae.c:35:
ae_epoll.c:131:44: error: implicit declaration of function ‘strerror’ [-Werror=implicit-function-declaration]
  131 |         panic("aeApiPoll: epoll_wait, %s", strerror(errno));
      |                                            ^~~~~~~~
redisassert.h:44:51: note: in definition of macro ‘panic’
   44 | #define panic(...) _serverPanic(__FILE__,__LINE__,__VA_ARGS__),redis_unreachable()
      |                                                   ^~~~~~~~~~~
In file included from rio.h:36,
                 from server.h:36,
                 from db.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from db.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
connection.h: In function ‘connWritev’:
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:27,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from quicklist.c:36:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: error: "__WORDSIZE" redefined [-Werror]
    6 | # define __WORDSIZE     32
      | 
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:4,
                 from quicklist.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: note: this is the location of the previous definition
   19 | #define __WORDSIZE      64
      | 
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
anet.c: In function ‘anetGetError’:
anet.c:69:9: error: implicit declaration of function ‘getsockopt’ [-Werror=implicit-function-declaration]
   69 |     if (getsockopt(fd, SOL_SOCKET, SO_ERROR, &sockerr, &errlen) == -1)
      |         ^~~~~~~~~~
zmalloc.c: In function ‘ztryrealloc_usable’:
zmalloc.c:264:14: error: implicit declaration of function ‘realloc’ [-Werror=implicit-function-declaration]
  264 |     newptr = realloc(realptr,size+PREFIX_SIZE);
      |              ^~~~~~~
zmalloc.c:264:14: note: include ‘<stdlib.h>’ or provide a declaration of ‘realloc’
zmalloc.c:264:14: error: incompatible implicit declaration of built-in function ‘realloc’ [-Werror=builtin-declaration-mismatch]
zmalloc.c:264:14: note: include ‘<stdlib.h>’ or provide a declaration of ‘realloc’
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from networking.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
anet.c: In function ‘anetSetBlock’:
anet.c:80:18: error: implicit declaration of function ‘fcntl’ [-Werror=implicit-function-declaration]
   80 |     if ((flags = fcntl(fd, F_GETFL)) == -1) {
      |                  ^~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
zmalloc.c: In function ‘zfree’:
zmalloc.c:327:5: error: incompatible implicit declaration of built-in function ‘free’ [-Werror=builtin-declaration-mismatch]
  327 |     free(realptr);
      |     ^~~~
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from object.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
zmalloc.c:327:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘free’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
sds.c: In function ‘sdsll2str’:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
zmalloc.c: In function ‘zfree_usable’:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
zmalloc.c:346:5: error: incompatible implicit declaration of built-in function ‘free’ [-Werror=builtin-declaration-mismatch]
  346 |     free(realptr);
      |     ^~~~
zmalloc.c:346:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘free’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
sds.c:545:22: error: ‘LLONG_MIN’ undeclared (first use in this function)
  545 |         if (value != LLONG_MIN) {
      |                      ^~~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
sds.c:41:1: note: ‘LLONG_MIN’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
   40 | #include "sdsalloc.h"
  +++ |+#include <limits.h>
   41 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
anet.c:81:49: error: implicit declaration of function ‘strerror’ [-Werror=implicit-function-declaration]
   81 |         anetSetError(err, "fcntl(F_GETFL): %s", strerror(errno));
      |                                                 ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
sds.c:545:22: note: each undeclared identifier is reported only once for each function it appears in
  545 |         if (value != LLONG_MIN) {
      |                      ^~~~~~~~~
In file included from rio.h:38,
                 from server.h:36,
                 from networking.c:30:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
sds.c: In function ‘sdscatvprintf’:
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from db.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
sds.c:637:21: error: implicit declaration of function ‘vsnprintf’ [-Werror=implicit-function-declaration]
  637 |         bufstrlen = vsnprintf(buf, buflen, fmt, cpy);
      |                     ^~~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
zmalloc.c: In function ‘get_proc_stat_ll’:
sds.c:41:1: note: include ‘<stdio.h>’ or provide a declaration of ‘vsnprintf’
   40 | #include "sdsalloc.h"
  +++ |+#include <stdio.h>
   41 | 
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
dict.c: In function ‘timeInMilliseconds’:
zmalloc.c:416:15: error: implicit declaration of function ‘open’; did you mean ‘fopen’? [-Werror=implicit-function-declaration]
  416 |     if ((fd = open("/proc/self/stat",O_RDONLY)) == -1) return 0;
      |               ^~~~
      |               fopen
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
sds.c:637:36: error: ‘vsnprintf’ argument 2 promotes to ‘size_t’ {aka ‘long long unsigned int’} where ‘long unsigned int’ is expected in a call to built-in function declared without prototype [-Werror=builtin-declaration-mismatch]
  637 |         bufstrlen = vsnprintf(buf, buflen, fmt, cpy);
      |                                    ^~~~~~
dict.c:383:5: error: implicit declaration of function ‘gettimeofday’ [-Werror=implicit-function-declaration]
  383 |     gettimeofday(&tv,NULL);
      |     ^~~~~~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
connection.h: In function ‘connWritev’:
<built-in>: note: built-in ‘vsnprintf’ declared here
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
In file included from rio.h:38,
                 from server.h:36,
                 from object.c:31:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
zmalloc.c:417:14: error: implicit declaration of function ‘read’ [-Werror=implicit-function-declaration]
  417 |     if ((l = read(fd,buf,sizeof(buf)-1)) <= 0) {
      |              ^~~~
anet.c: In function ‘anetKeepAlive’:
anet.c:140:9: error: implicit declaration of function ‘setsockopt’ [-Werror=implicit-function-declaration]
  140 |     if (setsockopt(fd, SOL_SOCKET, SO_KEEPALIVE, &val, sizeof(val)) == -1)
      |         ^~~~~~~~~~
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
connection.h: In function ‘connWritev’:
zmalloc.c:418:9: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
  418 |         close(fd);
      |         ^~~~~
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
In file included from server.h:45,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
ae.c: In function ‘aeWait’:
<built-in>: note: this is the location of the previous definition
In file included from rio.h:38,
                 from server.h:36,
                 from db.c:30:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
ae.c:487:19: error: implicit declaration of function ‘poll’ [-Werror=implicit-function-declaration]
  487 |     if ((retval = poll(&pfd, 1, milliseconds))== 1) {
      |                   ^~~~
zmalloc.c:442:12: error: implicit declaration of function ‘strtoll’ [-Werror=implicit-function-declaration]
  442 |     *res = strtoll(p,&x,10);
      |            ^~~~~~~
sds.c: In function ‘sdstrim’:
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
connection.h: In function ‘connWritev’:
sds.c:818:18: error: implicit declaration of function ‘memmove’ [-Werror=implicit-function-declaration]
  818 |     if (s != sp) memmove(s, sp, len);
      |                  ^~~~~~~
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
sds.c:41:1: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
   40 | #include "sdsalloc.h"
  +++ |+#include <string.h>
   41 | 
In file included from rio.h:35,
                 from server.h:36,
                 from replication.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
zmalloc.c: In function ‘zmalloc_get_rss’:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
zmalloc.c:454:16: error: implicit declaration of function ‘sysconf’ [-Werror=implicit-function-declaration]
  454 |     int page = sysconf(_SC_PAGESIZE);
      |                ^~~~~~~
sds.c:818:18: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  818 |     if (s != sp) memmove(s, sp, len);
      |                  ^~~~~~~
sds.c:818:18: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
In file included from rio.h:36,
                 from server.h:36,
                 from replication.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from replication.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
anet.c: In function ‘anetResolve’:
anet.c:254:15: error: implicit declaration of function ‘getaddrinfo’ [-Werror=implicit-function-declaration]
  254 |     if ((rv = getaddrinfo(host, NULL, &hints, &info)) != 0) {
      |               ^~~~~~~~~~~
ziplist.c: In function ‘zipTryEncoding’:
sds.c: In function ‘sdssubstr’:
sds.c:834:14: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  834 |     if (len) memmove(s, s+start, len);
      |              ^~~~~~~
sds.c:834:14: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
ziplist.c:531:29: error: ‘INT8_MIN’ undeclared (first use in this function); did you mean ‘INT24_MIN’?
  531 |         } else if (value >= INT8_MIN && value <= INT8_MAX) {
      |                             ^~~~~~~~
      |                             INT24_MIN
zmalloc.c: In function ‘zmalloc_get_smap_bytes_by_field’:
ziplist.c:531:29: note: each undeclared identifier is reported only once for each function it appears in
zmalloc.c:673:11: error: implicit declaration of function ‘fgets’ [-Werror=implicit-function-declaration]
  673 |     while(fgets(line,sizeof(line),fp) != NULL) {
      |           ^~~~~
sds.c: In function ‘sdstolower’:
zmalloc.c:673:39: error: comparison between pointer and integer [-Werror]
  673 |     while(fgets(line,sizeof(line),fp) != NULL) {
      |                                       ^~
In file included from server.h:45,
                 from networking.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
sds.c:875:38: error: implicit declaration of function ‘tolower’ [-Werror=implicit-function-declaration]
  875 |     for (j = 0; j < len; j++) s[j] = tolower(s[j]);
      |                                      ^~~~~~~
sds.c:41:1: note: include ‘<ctype.h>’ or provide a declaration of ‘tolower’
   40 | #include "sdsalloc.h"
  +++ |+#include <ctype.h>
   41 | 
sds.c: In function ‘sdstoupper’:
anet.c:255:33: error: implicit declaration of function ‘gai_strerror’ [-Werror=implicit-function-declaration]
  255 |         anetSetError(err, "%s", gai_strerror(rv));
      |                                 ^~~~~~~~~~~~
ziplist.c:531:50: error: ‘INT8_MAX’ undeclared (first use in this function)
  531 |         } else if (value >= INT8_MIN && value <= INT8_MAX) {
      |                                                  ^~~~~~~~
sds.c:882:38: error: implicit declaration of function ‘toupper’ [-Werror=implicit-function-declaration]
  882 |     for (j = 0; j < len; j++) s[j] = toupper(s[j]);
      |                                      ^~~~~~~
zmalloc.c:678:26: error: implicit declaration of function ‘strtol’ [-Werror=implicit-function-declaration]
  678 |                 bytes += strtol(line+flen,NULL,10) * 1024;
      |                          ^~~~~~
sds.c:882:38: note: include ‘<ctype.h>’ or provide a declaration of ‘toupper’
In file included from server.h:45,
                 from object.c:31:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
ziplist.c:194:1: note: ‘INT8_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
  193 | #include "redisassert.h"
  +++ |+#include <stdint.h>
  194 | 
zmalloc.c:682:5: error: implicit declaration of function ‘fclose’ [-Werror=implicit-function-declaration]
  682 |     fclose(fp);
      |     ^~~~~~
anet.c:260:9: error: implicit declaration of function ‘inet_ntop’ [-Werror=implicit-function-declaration]
  260 |         inet_ntop(AF_INET, &(sa->sin_addr), ipbuf, ipbuf_len);
      |         ^~~~~~~~~
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from replication.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
In file included from server.h:45,
                 from db.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
sds.c: In function ‘sdscatrepr’:
sds.c:1001:17: error: implicit declaration of function ‘isprint’ [-Werror=implicit-function-declaration]
 1001 |             if (isprint(*p))
      |                 ^~~~~~~
sds.c:1001:17: note: include ‘<ctype.h>’ or provide a declaration of ‘isprint’
ziplist.c:533:29: error: ‘INT16_MIN’ undeclared (first use in this function); did you mean ‘INT24_MIN’?
  533 |         } else if (value >= INT16_MIN && value <= INT16_MAX) {
      |                             ^~~~~~~~~
      |                             INT24_MIN
In file included from rio.h:38,
                 from server.h:36,
                 from replication.c:32:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
anet.c:266:5: error: implicit declaration of function ‘freeaddrinfo’ [-Werror=implicit-function-declaration]
  266 |     freeaddrinfo(info);
      |     ^~~~~~~~~~~~
ziplist.c:533:51: error: ‘INT16_MAX’ undeclared (first use in this function)
  533 |         } else if (value >= INT16_MIN && value <= INT16_MAX) {
      |                                                   ^~~~~~~~~
ziplist.c:533:51: note: ‘INT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
connection.h: In function ‘connWritev’:
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
anet.c: In function ‘anetCreateSocket’:
anet.c:283:14: error: implicit declaration of function ‘socket’ [-Werror=implicit-function-declaration]
  283 |     if ((s = socket(domain, SOCK_STREAM, 0)) == -1) {
      |              ^~~~~~
anet.c:291:9: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
  291 |         close(s);
      |         ^~~~~
ziplist.c:537:29: error: ‘INT32_MIN’ undeclared (first use in this function); did you mean ‘INT24_MIN’?
  537 |         } else if (value >= INT32_MIN && value <= INT32_MAX) {
      |                             ^~~~~~~~~
      |                             INT24_MIN
ziplist.c:537:51: error: ‘INT32_MAX’ undeclared (first use in this function)
  537 |         } else if (value >= INT32_MIN && value <= INT32_MAX) {
      |                                                   ^~~~~~~~~
ziplist.c:537:51: note: ‘INT32_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
anet.c: In function ‘anetTcpGenericConnect’:
anet.c:334:21: error: implicit declaration of function ‘bind’ [-Werror=implicit-function-declaration]
  334 |                 if (bind(s,b->ai_addr,b->ai_addrlen) != -1) {
      |                     ^~~~
In file included from dict.c:46:
dict.c: In function ‘dictGetRandomKey’:
anet.c:345:13: error: implicit declaration of function ‘connect’ [-Werror=implicit-function-declaration]
  345 |         if (connect(s,p->ai_addr,p->ai_addrlen) == -1) {
      |             ^~~~~~~
dict.h:157:23: error: implicit declaration of function ‘random’; did you mean ‘rand’? [-Werror=implicit-function-declaration]
  157 | #define randomULong() random()
      |                       ^~~~~~
dict.c:995:33: note: in expansion of macro ‘randomULong’
  995 |             h = d->rehashidx + (randomULong() % (dictSlots(d) - d->rehashidx));
      |                                 ^~~~~~~~~~~
In file included from server.h:45,
                 from replication.c:32:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
anet.c: In function ‘anetListen’:
anet.c:427:9: error: implicit declaration of function ‘listen’ [-Werror=implicit-function-declaration]
  427 |     if (listen(s, backlog) == -1) {
      |         ^~~~~~
cc1: all warnings being treated as errors
dict.c: In function ‘rev’:
dict.c:1177:23: error: ‘CHAR_BIT’ undeclared (first use in this function)
 1177 |     unsigned long s = CHAR_BIT * sizeof(v); // bit size; must be power of 2
      |                       ^~~~~~~~
dict.c:49:1: note: ‘CHAR_BIT’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
   48 | #include "redisassert.h"
  +++ |+#include <limits.h>
   49 | 
make[1]: *** [Makefile:434: release.o] Error 1
anet.c: In function ‘anetUnixServer’:
dict.c:1177:23: note: each undeclared identifier is reported only once for each function it appears in
 1177 |     unsigned long s = CHAR_BIT * sizeof(v); // bit size; must be power of 2
      |                       ^~~~~~~~
anet.c:514:9: error: implicit declaration of function ‘chmod’ [-Werror=implicit-function-declaration]
  514 |         chmod(sa.sun_path, perm);
      |         ^~~~~
anet.c: In function ‘anetGenericAccept’:
In file included from ziplist.c:191:
ziplist.c: In function ‘ziplistResize’:
anet.c:526:14: error: implicit declaration of function ‘accept4’ [-Werror=implicit-function-declaration]
  526 |         fd = accept4(s, sa, len,  SOCK_NONBLOCK | SOCK_CLOEXEC);
      |              ^~~~~~~
ziplist.c:724:18: error: ‘UINT32_MAX’ undeclared (first use in this function)
  724 |     assert(len < UINT32_MAX);
      |                  ^~~~~~~~~~
config.h:141:39: note: in definition of macro ‘likely’
  141 | #define likely(x) __builtin_expect(!!(x), 1)
      |                                       ^
ziplist.c:724:5: note: in expansion of macro ‘assert’
  724 |     assert(len < UINT32_MAX);
      |     ^~~~~~
ziplist.c:724:18: note: ‘UINT32_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
  724 |     assert(len < UINT32_MAX);
      |                  ^~~~~~~~~~
config.h:141:39: note: in definition of macro ‘likely’
  141 | #define likely(x) __builtin_expect(!!(x), 1)
      |                                       ^
ziplist.c:724:5: note: in expansion of macro ‘assert’
  724 |     assert(len < UINT32_MAX);
      |     ^~~~~~
dict.c: In function ‘_dictNextExp’:
anet.c: In function ‘anetTcpAccept’:
anet.c:561:27: error: implicit declaration of function ‘ntohs’ [-Werror=implicit-function-declaration]
  561 |         if (port) *port = ntohs(s->sin_port);
      |                           ^~~~~
dict.c:1421:17: error: ‘LONG_MAX’ undeclared (first use in this function)
 1421 |     if (size >= LONG_MAX) return (8*sizeof(long)-1);
      |                 ^~~~~~~~
dict.c:1421:17: note: ‘LONG_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
ziplist.c: In function ‘__ziplistCascadeUpdate’:
ziplist.c:823:5: error: implicit declaration of function ‘memmove’ [-Werror=implicit-function-declaration]
  823 |     memmove(p + extra, p, curlen - offset - 1);
      |     ^~~~~~~
ziplist.c:194:1: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
  193 | #include "redisassert.h"
  +++ |+#include <string.h>
  194 | 
ziplist.c:823:5: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  823 |     memmove(p + extra, p, curlen - offset - 1);
      |     ^~~~~~~
ziplist.c:823:5: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
cc1: all warnings being treated as errors
anet.c: In function ‘anetFdToString’:
ziplist.c: In function ‘__ziplistDelete’:
anet.c:587:13: error: implicit declaration of function ‘getpeername’ [-Werror=implicit-function-declaration]
  587 |         if (getpeername(fd, (struct sockaddr *)&sa, &salen) == -1) goto error;
      |             ^~~~~~~~~~~
ziplist.c:898:13: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  898 |             memmove(first.p,p,bytes_to_move);
      |             ^~~~~~~
ziplist.c:898:13: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
ziplist.c:266:44: error: ‘UINT16_MAX’ undeclared (first use in this function)
  266 |     if (intrev16ifbe(ZIPLIST_LENGTH(zl)) < UINT16_MAX) \
      |                                            ^~~~~~~~~~
ziplist.c:911:9: note: in expansion of macro ‘ZIPLIST_INCR_LENGTH’
  911 |         ZIPLIST_INCR_LENGTH(zl,-deleted);
      |         ^~~~~~~~~~~~~~~~~~~
make[1]: *** [Makefile:434: sds.o] Error 1
ziplist.c:266:44: note: ‘UINT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
  266 |     if (intrev16ifbe(ZIPLIST_LENGTH(zl)) < UINT16_MAX) \
      |                                            ^~~~~~~~~~
ziplist.c:911:9: note: in expansion of macro ‘ZIPLIST_INCR_LENGTH’
  911 |         ZIPLIST_INCR_LENGTH(zl,-deleted);
      |         ^~~~~~~~~~~~~~~~~~~
anet.c:589:13: error: implicit declaration of function ‘getsockname’ [-Werror=implicit-function-declaration]
  589 |         if (getsockname(fd, (struct sockaddr *)&sa, &salen) == -1) goto error;
      |             ^~~~~~~~~~~
ziplist.c: In function ‘__ziplistInsert’:
anet.c:595:68: error: comparison between pointer and integer [-Werror]
  595 |             if (inet_ntop(AF_INET,(void*)&(s->sin_addr),ip,ip_len) == NULL)
      |                                                                    ^~
ziplist.c:980:9: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  980 |         memmove(p+reqlen,p-nextdiff,curlen-offset-1+nextdiff);
      |         ^~~~~~~
anet.c:602:70: error: comparison between pointer and integer [-Werror]
  602 |             if (inet_ntop(AF_INET6,(void*)&(s->sin6_addr),ip,ip_len) == NULL)
      |                                                                      ^~
ziplist.c:980:9: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
ziplist.c:266:44: error: ‘UINT16_MAX’ undeclared (first use in this function)
  266 |     if (intrev16ifbe(ZIPLIST_LENGTH(zl)) < UINT16_MAX) \
      |                                            ^~~~~~~~~~
ziplist.c:1021:5: note: in expansion of macro ‘ZIPLIST_INCR_LENGTH’
 1021 |     ZIPLIST_INCR_LENGTH(zl,1);
      |     ^~~~~~~~~~~~~~~~~~~
anet.c: In function ‘anetPipe’:
anet.c:639:9: error: implicit declaration of function ‘pipe2’ [-Werror=implicit-function-declaration]
  639 |     if (pipe2(fds, pipe_flags)) {
      |         ^~~~~
ziplist.c:266:44: note: ‘UINT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
  266 |     if (intrev16ifbe(ZIPLIST_LENGTH(zl)) < UINT16_MAX) \
      |                                            ^~~~~~~~~~
ziplist.c:1021:5: note: in expansion of macro ‘ZIPLIST_INCR_LENGTH’
 1021 |     ZIPLIST_INCR_LENGTH(zl,1);
      |     ^~~~~~~~~~~~~~~~~~~
anet.c:656:28: error: implicit declaration of function ‘pipe’ [-Werror=implicit-function-declaration]
  656 |     if (pipe_flags == 0 && pipe(fds))
      |                            ^~~~
quicklist.c: In function ‘_quicklistBookmarkDelete’:
ziplist.c: In function ‘ziplistMerge’:
quicklist.c:1722:5: error: implicit declaration of function ‘memmove’ [-Werror=implicit-function-declaration]
 1722 |     memmove(bm, bm+1, (ql->bookmark_count - index)* sizeof(*bm));
      |     ^~~~~~~
quicklist.c:41:1: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
   40 | #include "redisassert.h"
  +++ |+#include <string.h>
   41 | 
ziplist.c:1083:27: error: ‘UINT16_MAX’ undeclared (first use in this function)
 1083 |     zllength = zllength < UINT16_MAX ? zllength : UINT16_MAX;
      |                           ^~~~~~~~~~
ziplist.c:1083:27: note: ‘UINT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
quicklist.c:1722:5: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
 1722 |     memmove(bm, bm+1, (ql->bookmark_count - index)* sizeof(*bm));
      |     ^~~~~~~
quicklist.c:1722:5: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
In file included from ziplist.c:191:
ziplist.c:1086:22: error: ‘UINT32_MAX’ undeclared (first use in this function)
 1086 |     assert(zlbytes < UINT32_MAX);
      |                      ^~~~~~~~~~
config.h:141:39: note: in definition of macro ‘likely’
  141 | #define likely(x) __builtin_expect(!!(x), 1)
      |                                       ^
ziplist.c:1086:5: note: in expansion of macro ‘assert’
 1086 |     assert(zlbytes < UINT32_MAX);
      |     ^~~~~~
ziplist.c:1086:22: note: ‘UINT32_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
 1086 |     assert(zlbytes < UINT32_MAX);
      |                      ^~~~~~~~~~
config.h:141:39: note: in definition of macro ‘likely’
  141 | #define likely(x) __builtin_expect(!!(x), 1)
      |                                       ^
ziplist.c:1086:5: note: in expansion of macro ‘assert’
 1086 |     assert(zlbytes < UINT32_MAX);
      |     ^~~~~~
ziplist.c:1106:9: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
 1106 |         memmove(target + source_bytes - ZIPLIST_END_SIZE,
      |         ^~~~~~~
ziplist.c:1106:9: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
In file included from rio.h:35,
                 from server.h:36,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:6: error: conflicting types for built-in function ‘fprintf’; expected ‘int(void *, const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   29 | void fprintf(int f, const char *fmt, ...);
      |      ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:1:1: note: ‘fprintf’ is declared in header ‘<stdio.h>’
  +++ |+#include <stdio.h>
    1 | #ifndef __STDIO_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: error: conflicting types for built-in function ‘snprintf’; expected ‘int(char *, long unsigned int,  const char *, ...)’ [-Werror=builtin-declaration-mismatch]
   30 | int snprintf ( char * str, int size, const char * format, ... );
      |     ^~~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:30:5: note: ‘snprintf’ is declared in header ‘<stdio.h>’
In file included from rio.h:36,
                 from server.h:36,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdint.h:19: error: "__WORDSIZE" redefined [-Werror]
   19 | #define __WORDSIZE      64
      | 
In file included from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/timesize.h:19,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types.h:28,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/types/struct_timespec.h:4,
                 from /home/yanjuguang/OS/arceos/ulib/c_libax/include/fcntl.h:52,
                 from config.h:40,
                 from server.h:34,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/bits/wordsize.h:6: note: this is the location of the previous definition
    6 | # define __WORDSIZE     32
      | 
ziplist.c: In function ‘ziplistFind’:
ziplist.c:1378:37: error: ‘UCHAR_MAX’ undeclared (first use in this function)
 1378 |                         vencoding = UCHAR_MAX;
      |                                     ^~~~~~~~~
ziplist.c:194:1: note: ‘UCHAR_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
  193 | #include "redisassert.h"
  +++ |+#include <limits.h>
  194 | 
In file included from connection.h:36,
                 from rio.h:38,
                 from server.h:36,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:11:7: error: mismatch in argument 3 type of built-in function ‘memset’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   11 | void *memset(void *dest, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:1:1: note: ‘memset’ is declared in header ‘<string.h>’
  +++ |+#include <string.h>
    1 | #ifndef __STRING_H__
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: error: mismatch in argument 3 type of built-in function ‘memchr’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   12 | void *memchr(const void *src, int c, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:12:7: note: ‘memchr’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: error: mismatch in argument 3 type of built-in function ‘memcmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   13 | int memcmp(const void *str1, const void *str2, size_t n);
      |     ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:13:5: note: ‘memcmp’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: error: mismatch in argument 3 type of built-in function ‘memcpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   14 | void *memcpy(void *dest, const void * src, size_t n);
      |       ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:14:7: note: ‘memcpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: error: mismatch in return type of built-in function ‘strlen’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   16 | size_t strlen(const char *s);
      |        ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:16:8: note: ‘strlen’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: error: mismatch in argument 3 type of built-in function ‘strncpy’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   22 | char *strncpy(char *restrict d, const char *restrict s, size_t n);
      |       ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:22:7: note: ‘strncpy’ is declared in header ‘<string.h>’
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: error: mismatch in argument 3 type of built-in function ‘strncmp’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
   23 | int strncmp(const char *_l, const char *_r, size_t n);
      |     ^~~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/string.h:23:5: note: ‘strncmp’ is declared in header ‘<string.h>’
cc1: all warnings being treated as errors
ziplist.c: In function ‘ziplistLen’:
In file included from rio.h:38,
                 from server.h:36,
                 from rdb.c:30:
connection.h:97:57: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
   97 |     int (*writev)(struct connection *conn, const struct iovec *iov, int iovcnt);
      |                                                         ^~~~~
ziplist.c:1412:44: error: ‘UINT16_MAX’ undeclared (first use in this function)
 1412 |     if (intrev16ifbe(ZIPLIST_LENGTH(zl)) < UINT16_MAX) {
      |                                            ^~~~~~~~~~
ziplist.c:1412:44: note: ‘UINT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
make[1]: *** [Makefile:434: dict.o] Error 1
connection.h:205:61: error: ‘struct iovec’ declared inside parameter list will not be visible outside of this definition or declaration [-Werror]
  205 | static inline int connWritev(connection *conn, const struct iovec *iov, int iovcnt) {
      |                                                             ^~~~~
connection.h: In function ‘connWritev’:
connection.h:206:37: error: passing argument 2 of ‘conn->type->writev’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  206 |     return conn->type->writev(conn, iov, iovcnt);
      |                                     ^~~
      |                                     |
      |                                     const struct iovec *
connection.h:206:37: note: expected ‘const struct iovec *’ but argument is of type ‘const struct iovec *’
In file included from server.c:30:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
In file included from server.c:30:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
In file included from server.c:30:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
ziplist.c: In function ‘ziplistRepr’:
In file included from networking.c:30:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
In file included from networking.c:30:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
In file included from networking.c:30:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
ziplist.c:1476:21: error: implicit declaration of function ‘fwrite’ [-Werror=implicit-function-declaration]
 1476 |                 if (fwrite(p,40,1,stdout) == 0) perror("fwrite");
      |                     ^~~~~~
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
ziplist.c:194:1: note: include ‘<stdio.h>’ or provide a declaration of ‘fwrite’
  193 | #include "redisassert.h"
  +++ |+#include <stdio.h>
  194 | 
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
In file included from object.c:31:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
ziplist.c:1476:21: error: incompatible implicit declaration of built-in function ‘fwrite’ [-Werror=builtin-declaration-mismatch]
 1476 |                 if (fwrite(p,40,1,stdout) == 0) perror("fwrite");
      |                     ^~~~~~
In file included from object.c:31:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
ziplist.c:1476:21: note: include ‘<stdio.h>’ or provide a declaration of ‘fwrite’
In file included from object.c:31:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
In file included from ziplist.c:183:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:5:16: error: passing argument 4 of ‘fwrite’ makes pointer from integer without a cast [-Werror=int-conversion]
    5 | #define stdout 1
      |                ^
      |                |
      |                int
ziplist.c:1476:35: note: in expansion of macro ‘stdout’
 1476 |                 if (fwrite(p,40,1,stdout) == 0) perror("fwrite");
      |                                   ^~~~~~
In file included from server.h:45,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h: At top level:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/limits.h:1: error: "__INT_MAX__" redefined [-Werror]
    1 | #define __INT_MAX__ 2147483647
      | 
<built-in>: note: this is the location of the previous definition
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:5:16: note: expected ‘void *’ but argument is of type ‘int’
    5 | #define stdout 1
      |                ^
ziplist.c:1476:35: note: in expansion of macro ‘stdout’
 1476 |                 if (fwrite(p,40,1,stdout) == 0) perror("fwrite");
      |                                   ^~~~~~
ziplist.c:1476:49: error: implicit declaration of function ‘perror’ [-Werror=implicit-function-declaration]
 1476 |                 if (fwrite(p,40,1,stdout) == 0) perror("fwrite");
      |                                                 ^~~~~~
In file included from db.c:30:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
In file included from db.c:30:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
object.c: In function ‘createStringObjectFromLongLongWithOptions’:
object.c:164:22: error: ‘LONG_MIN’ undeclared (first use in this function)
  164 |         if (value >= LONG_MIN && value <= LONG_MAX) {
      |                      ^~~~~~~~
In file included from db.c:30:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
object.c:36:1: note: ‘LONG_MIN’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
   35 | #include <ctype.h>
  +++ |+#include <limits.h>
   36 | 
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
object.c:164:22: note: each undeclared identifier is reported only once for each function it appears in
  164 |         if (value >= LONG_MIN && value <= LONG_MAX) {
      |                      ^~~~~~~~
ziplist.c:1480:21: error: incompatible implicit declaration of built-in function ‘fwrite’ [-Werror=builtin-declaration-mismatch]
 1480 |                     fwrite(p,entry.len,1,stdout) == 0) perror("fwrite");
      |                     ^~~~~~
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
object.c:164:43: error: ‘LONG_MAX’ undeclared (first use in this function)
  164 |         if (value >= LONG_MIN && value <= LONG_MAX) {
      |                                           ^~~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
object.c:164:43: note: ‘LONG_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
ziplist.c:1480:21: note: include ‘<stdio.h>’ or provide a declaration of ‘fwrite’
In file included from ziplist.c:183:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:5:16: error: passing argument 4 of ‘fwrite’ makes pointer from integer without a cast [-Werror=int-conversion]
    5 | #define stdout 1
      |                ^
      |                |
      |                int
ziplist.c:1480:42: note: in expansion of macro ‘stdout’
 1480 |                     fwrite(p,entry.len,1,stdout) == 0) perror("fwrite");
      |                                          ^~~~~~
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:5:16: note: expected ‘void *’ but argument is of type ‘int’
    5 | #define stdout 1
      |                ^
ziplist.c:1480:42: note: in expansion of macro ‘stdout’
 1480 |                     fwrite(p,entry.len,1,stdout) == 0) perror("fwrite");
      |                                          ^~~~~~
ziplist.c: In function ‘ziplistValidateIntegrity’:
server.c: In function ‘serverLogRaw’:
server.c:116:33: error: pointer/integer type mismatch in conditional expression [-Werror]
  116 |     fp = log_to_stdout ? stdout : fopen(server.logfile,"a");
      |                                 ^
server.c:120:17: error: passing argument 1 of ‘fprintf’ makes integer from pointer without a cast [-Werror=int-conversion]
  120 |         fprintf(fp,"%s",msg);
      |                 ^~
      |                 |
      |                 FILE * {aka struct _IO_FILE *}
ziplist.c:1552:25: error: ‘UINT16_MAX’ undeclared (first use in this function)
 1552 |     if (header_count != UINT16_MAX && count != header_count)
      |                         ^~~~~~~~~~
In file included from rio.h:35,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:18: note: expected ‘int’ but argument is of type ‘FILE *’ {aka ‘struct _IO_FILE *’}
   29 | void fprintf(int f, const char *fmt, ...);
      |              ~~~~^
ziplist.c:1552:25: note: ‘UINT16_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
ziplist.c: In function ‘ziplistRandomPairs’:
In file included from replication.c:32:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
In file included from replication.c:32:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
ziplist.c:1622:5: error: implicit declaration of function ‘qsort’ [-Werror=implicit-function-declaration]
 1622 |     qsort(picks, count, sizeof(rand_pick), uintCompare);
      |     ^~~~~
server.c:125:21: error: implicit declaration of function ‘getpid’ [-Werror=implicit-function-declaration]
  125 |         pid_t pid = getpid();
      |                     ^~~~~~
In file included from replication.c:32:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
ziplist.c: In function ‘ziplistRandomPairsUnique’:
ziplist.c:1666:50: error: ‘RAND_MAX’ undeclared (first use in this function)
 1666 |         double randomDouble = ((double)rand()) / RAND_MAX;
      |                                                  ^~~~~~~~
networking.c: In function ‘setDeferredReply’:
networking.c:782:9: error: implicit declaration of function ‘memmove’ [-Werror=implicit-function-declaration]
  782 |         memmove(next->buf + length, next->buf, next->used);
      |         ^~~~~~~
networking.c:39:1: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
   38 | #include <ctype.h>
  +++ |+#include <string.h>
   39 | 
networking.c:782:9: error: incompatible implicit declaration of built-in function ‘memmove’ [-Werror=builtin-declaration-mismatch]
  782 |         memmove(next->buf + length, next->buf, next->used);
      |         ^~~~~~~
networking.c:782:9: note: include ‘<string.h>’ or provide a declaration of ‘memmove’
object.c: In function ‘compareStringObjectsWithFlags’:
object.c:753:16: error: implicit declaration of function ‘strcoll’ [-Werror=implicit-function-declaration]
  753 |         return strcoll(astr,bstr);
      |                ^~~~~~~
replication.c:38:10: fatal error: memory.h: No such file or directory
   38 | #include <memory.h>
      |          ^~~~~~~~~~
cc1: all warnings being treated as errors
compilation terminated.
server.c:127:9: error: implicit declaration of function ‘gettimeofday’ [-Werror=implicit-function-declaration]
  127 |         gettimeofday(&tv,NULL);
      |         ^~~~~~~~~~~~
server.c:130:15: error: implicit declaration of function ‘strftime’ [-Werror=implicit-function-declaration]
  130 |         off = strftime(buf,sizeof(buf),"%d %b %Y %H:%M:%S.",&tm);
      |               ^~~~~~~~
server.c:65:1: note: include ‘<time.h>’ or provide a declaration of ‘strftime’
   64 | #include <sys/mman.h>
  +++ |+#include <time.h>
   65 | #endif
server.c:130:15: error: incompatible implicit declaration of built-in function ‘strftime’ [-Werror=builtin-declaration-mismatch]
  130 |         off = strftime(buf,sizeof(buf),"%d %b %Y %H:%M:%S.",&tm);
      |               ^~~~~~~~
server.c:130:15: note: include ‘<time.h>’ or provide a declaration of ‘strftime’
make[1]: *** [Makefile:434: replication.o] Error 1
object.c: In function ‘getLongFromObjectOrReply’:
object.c:903:17: error: ‘LONG_MIN’ undeclared (first use in this function)
  903 |     if (value < LONG_MIN || value > LONG_MAX) {
      |                 ^~~~~~~~
object.c:903:17: note: ‘LONG_MIN’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
object.c:903:37: error: ‘LONG_MAX’ undeclared (first use in this function)
  903 |     if (value < LONG_MIN || value > LONG_MAX) {
      |                                     ^~~~~~~~
db.c: In function ‘getFlushCommandFlags’:
object.c:903:37: note: ‘LONG_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
server.c:139:17: error: passing argument 1 of ‘fprintf’ makes integer from pointer without a cast [-Werror=int-conversion]
  139 |         fprintf(fp,"%d:%c %s %c %s\n",
      |                 ^~
      |                 |
      |                 FILE * {aka struct _IO_FILE *}
db.c:626:26: error: implicit declaration of function ‘strcasecmp’; did you mean ‘strncmp’? [-Werror=implicit-function-declaration]
  626 |     if (c->argc == 2 && !strcasecmp(c->argv[1]->ptr,"sync")) {
      |                          ^~~~~~~~~~
      |                          strncmp
object.c: In function ‘getPositiveLongFromObjectOrReply’:
In file included from rio.h:35,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:18: note: expected ‘int’ but argument is of type ‘FILE *’ {aka ‘struct _IO_FILE *’}
   29 | void fprintf(int f, const char *fmt, ...);
      |              ~~~~^
object.c:930:55: error: ‘LONG_MAX’ undeclared (first use in this function)
  930 |         return getRangeLongFromObjectOrReply(c, o, 0, LONG_MAX, target, msg);
      |                                                       ^~~~~~~~
object.c:930:55: note: ‘LONG_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
object.c: In function ‘getIntFromObjectOrReply’:
server.c:142:12: error: passing argument 1 of ‘fflush’ makes integer from pointer without a cast [-Werror=int-conversion]
  142 |     fflush(fp);
      |            ^~
      |            |
      |            FILE * {aka struct _IO_FILE *}
object.c:939:45: error: ‘INT_MIN’ undeclared (first use in this function)
  939 |     if (getRangeLongFromObjectOrReply(c, o, INT_MIN, INT_MAX, &value, msg) != C_OK)
      |                                             ^~~~~~~
object.c:939:45: note: ‘INT_MIN’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
In file included from rio.h:35,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:31:12: note: expected ‘int’ but argument is of type ‘FILE *’ {aka ‘struct _IO_FILE *’}
   31 | int fflush(int);
      |            ^~~
server.c:144:25: error: implicit declaration of function ‘fclose’; did you mean ‘false’? [-Werror=implicit-function-declaration]
  144 |     if (!log_to_stdout) fclose(fp);
      |                         ^~~~~~
      |                         false
server.c:145:32: error: implicit declaration of function ‘syslog’ [-Werror=implicit-function-declaration]
  145 |     if (server.syslog_enabled) syslog(syslogLevelMap[level], "%s", msg);
      |                                ^~~~~~
server.c: In function ‘_serverLog’:
server.c:156:5: error: implicit declaration of function ‘vsnprintf’ [-Werror=implicit-function-declaration]
  156 |     vsnprintf(msg, sizeof(msg), fmt, ap);
      |     ^~~~~~~~~
db.c: In function ‘parseScanCursorOrReply’:
server.c:65:1: note: include ‘<stdio.h>’ or provide a declaration of ‘vsnprintf’
   64 | #include <sys/mman.h>
  +++ |+#include <stdio.h>
   65 | #endif
db.c:837:15: error: implicit declaration of function ‘strtoul’ [-Werror=implicit-function-declaration]
  837 |     *cursor = strtoul(o->ptr, &eptr, 10);
      |               ^~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: ziplist.o] Error 1
server.c: In function ‘serverLogFromHandler’:
server.c:176:26: error: implicit declaration of function ‘open’; did you mean ‘fopen’? [-Werror=implicit-function-declaration]
  176 |                          open(server.logfile, O_APPEND|O_CREAT|O_WRONLY, 0644);
      |                          ^~~~
      |                          fopen
networking.c: In function ‘freeClient’:
networking.c:1633:36: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
 1633 |             if (c->repldbfd != -1) close(c->repldbfd);
      |                                    ^~~~~
server.c:179:9: error: implicit declaration of function ‘write’ [-Werror=implicit-function-declaration]
  179 |     if (write(fd,buf,strlen(buf)) == -1) goto err;
      |         ^~~~~
db.c: In function ‘shutdownCommand’:
db.c:1153:44: error: implicit declaration of function ‘exit’ [-Werror=implicit-function-declaration]
 1153 |     if (prepareForShutdown(flags) == C_OK) exit(0);
      |                                            ^~~~
db.c:39:1: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
   38 | #include <ctype.h>
  +++ |+#include <stdlib.h>
   39 | 
object.c: In function ‘objectCommand’:
db.c:1153:44: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 1153 |     if (prepareForShutdown(flags) == C_OK) exit(0);
      |                                            ^~~~
db.c:1153:44: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
object.c:1453:26: error: implicit declaration of function ‘strcasecmp’; did you mean ‘strncmp’? [-Werror=implicit-function-declaration]
 1453 |     if (c->argc == 2 && !strcasecmp(c->argv[1]->ptr,"help")) {
      |                          ^~~~~~~~~~
      |                          strncmp
server.c:181:31: error: implicit declaration of function ‘time’; did you mean ‘mstime’? [-Werror=implicit-function-declaration]
  181 |     ll2string(buf,sizeof(buf),time(NULL));
      |                               ^~~~
      |                               mstime
In file included from rdb.c:30:
server.h:3708:7: error: mismatch in argument 1 type of built-in function ‘calloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3708 | void *calloc(size_t count, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
In file included from rdb.c:30:
server.h:2866:1: note: ‘calloc’ is declared in header ‘<stdlib.h>’
 2865 | #include "rdb.h"
  +++ |+#include <stdlib.h>
 2866 | void killRDBChild(void);
In file included from rdb.c:30:
server.h:3710:7: error: mismatch in argument 1 type of built-in function ‘malloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3710 | void *malloc(size_t size) __attribute__ ((deprecated));
      |       ^~~~~~
server.h:3710:7: note: ‘malloc’ is declared in header ‘<stdlib.h>’
server.h:3711:7: error: mismatch in argument 2 type of built-in function ‘realloc’; expected ‘long unsigned int’ [-Werror=builtin-declaration-mismatch]
 3711 | void *realloc(void *ptr, size_t size) __attribute__ ((deprecated));
      |       ^~~~~~~
server.h:3711:7: note: ‘realloc’ is declared in header ‘<stdlib.h>’
rdb.c: In function ‘rdbReportError’:
rdb.c:76:5: error: implicit declaration of function ‘vsnprintf’ [-Werror=implicit-function-declaration]
   76 |     vsnprintf(msg+len,sizeof(msg)-len,reason,ap);
      |     ^~~~~~~~~
rdb.c:49:1: note: include ‘<stdio.h>’ or provide a declaration of ‘vsnprintf’
   48 | #include <sys/param.h>
  +++ |+#include <stdio.h>
   49 | 
server.c:187:25: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
  187 |     if (!log_to_stdout) close(fd);
      |                         ^~~~~
rdb.c:102:5: error: implicit declaration of function ‘exit’ [-Werror=implicit-function-declaration]
  102 |     exit(1);
      |     ^~~~
rdb.c:49:1: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
   48 | #include <sys/param.h>
  +++ |+#include <stdlib.h>
   49 | 
rdb.c:102:5: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
  102 |     exit(1);
      |     ^~~~
rdb.c:102:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
rdb.c: In function ‘rdbSaveLen’:
rdb.c:182:23: error: ‘UINT32_MAX’ undeclared (first use in this function)
  182 |     } else if (len <= UINT32_MAX) {
      |                       ^~~~~~~~~~
rdb.c:49:1: note: ‘UINT32_MAX’ is defined in header ‘<stdint.h>’; did you forget to ‘#include <stdint.h>’?
   48 | #include <sys/param.h>
  +++ |+#include <stdint.h>
   49 | 
rdb.c:182:23: note: each undeclared identifier is reported only once for each function it appears in
  182 |     } else if (len <= UINT32_MAX) {
      |                       ^~~~~~~~~~
rdb.c:186:26: error: implicit declaration of function ‘htonl’ [-Werror=implicit-function-declaration]
  186 |         uint32_t len32 = htonl(len);
      |                          ^~~~~
server.c: In function ‘exitFromChild’:
server.c:236:5: error: implicit declaration of function ‘_exit’; did you mean ‘_Exit’? [-Werror=implicit-function-declaration]
  236 |     _exit(retcode);
      |     ^~~~~
      |     _Exit
object.c: In function ‘getPositiveLongFromObjectOrReply’:
object.c:934:1: error: control reaches end of non-void function [-Werror=return-type]
  934 | }
      | ^
rdb.c: In function ‘rdbLoadLenByRef’:
rdb.c:232:19: error: implicit declaration of function ‘ntohl’ [-Werror=implicit-function-declaration]
  232 |         *lenptr = ntohl(len);
      |                   ^~~~~
cc1: all warnings being treated as errors
rdb.c: In function ‘rdbSaveDoubleValue’:
make[1]: *** [Makefile:434: object.o] Error 1
rdb.c:585:9: error: implicit declaration of function ‘isnan’ [-Werror=implicit-function-declaration]
  585 |     if (isnan(val)) {
      |         ^~~~~
rdb.c:49:1: note: include ‘<math.h>’ or provide a declaration of ‘isnan’
   48 | #include <sys/param.h>
  +++ |+#include <math.h>
   49 | 
server.c: In function ‘dictSdsKeyCaseCompare’:
server.c:276:12: error: implicit declaration of function ‘strcasecmp’; did you mean ‘strncmp’? [-Werror=implicit-function-declaration]
  276 |     return strcasecmp(key1, key2) == 0;
      |            ^~~~~~~~~~
      |            strncmp
rdb.c:588:17: error: implicit declaration of function ‘isfinite’ [-Werror=implicit-function-declaration]
  588 |     } else if (!isfinite(val)) {
      |                 ^~~~~~~~
networking.c: In function ‘freeClientAsync’:
rdb.c: In function ‘rdbLoadDoubleValue’:
rdb.c:619:13: error: implicit declaration of function ‘sscanf’ [-Werror=implicit-function-declaration]
  619 |         if (sscanf(buf, "%lg", val)!=1) return -1;
      |             ^~~~~~
rdb.c:619:13: note: include ‘<stdio.h>’ or provide a declaration of ‘sscanf’
rdb.c:619:13: error: incompatible implicit declaration of built-in function ‘sscanf’ [-Werror=builtin-declaration-mismatch]
networking.c:1696:53: error: ‘PTHREAD_MUTEX_INITIALIZER’ undeclared (first use in this function)
 1696 |     static pthread_mutex_t async_free_queue_mutex = PTHREAD_MUTEX_INITIALIZER;
      |                                                     ^~~~~~~~~~~~~~~~~~~~~~~~~
rdb.c:619:13: note: include ‘<stdio.h>’ or provide a declaration of ‘sscanf’
networking.c:1696:53: note: each undeclared identifier is reported only once for each function it appears in
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: lzf_c.o] Error 1
rdb.c: In function ‘rdbSaveInfoAuxFields’:
rdb.c:1195:43: error: implicit declaration of function ‘time’; did you mean ‘mstime’? [-Werror=implicit-function-declaration]
 1195 |     if (rdbSaveAuxFieldStrInt(rdb,"ctime",time(NULL)) == -1) return -1;
      |                                           ^~~~
      |                                           mstime
networking.c:1697:5: error: implicit declaration of function ‘pthread_mutex_lock’ [-Werror=implicit-function-declaration]
 1697 |     pthread_mutex_lock(&async_free_queue_mutex);
      |     ^~~~~~~~~~~~~~~~~~
server.c: In function ‘updateCachedTimeWithUs’:
server.c:1116:9: error: implicit declaration of function ‘localtime_r’ [-Werror=implicit-function-declaration]
 1116 |         localtime_r(&ut,&tm);
      |         ^~~~~~~~~~~
server.c: In function ‘checkChildrenDone’:
server.c:1160:16: error: implicit declaration of function ‘waitpid’ [-Werror=implicit-function-declaration]
 1160 |     if ((pid = waitpid(-1, &statloc, WNOHANG)) != 0) {
      |                ^~~~~~~
server.c:1161:24: error: implicit declaration of function ‘WIFEXITED’ [-Werror=implicit-function-declaration]
 1161 |         int exitcode = WIFEXITED(statloc) ? WEXITSTATUS(statloc) : -1;
      |                        ^~~~~~~~~
rdb.c: In function ‘rdbSave’:
rdb.c:1443:14: error: ‘MAXPATHLEN’ undeclared (first use in this function)
 1443 |     char cwd[MAXPATHLEN]; /* Current working dir path for error messages. */
      |              ^~~~~~~~~~
networking.c:1699:5: error: implicit declaration of function ‘pthread_mutex_unlock’ [-Werror=implicit-function-declaration]
 1699 |     pthread_mutex_unlock(&async_free_queue_mutex);
      |     ^~~~~~~~~~~~~~~~~~~~
rdb.c:1449:47: error: implicit declaration of function ‘getpid’ [-Werror=implicit-function-declaration]
 1449 |     snprintf(tmpfile,256,"temp-%d.rdb", (int) getpid());
      |                                               ^~~~~~
rdb.c:1452:25: error: implicit declaration of function ‘strerror’ [-Werror=implicit-function-declaration]
 1452 |         char *str_err = strerror(errno);
      |                         ^~~~~~~~
rdb.c:1452:25: error: initialization of ‘char *’ from ‘int’ makes pointer from integer without a cast [-Werror=int-conversion]
server.c:1161:45: error: implicit declaration of function ‘WEXITSTATUS’ [-Werror=implicit-function-declaration]
 1161 |         int exitcode = WIFEXITED(statloc) ? WEXITSTATUS(statloc) : -1;
      |                                             ^~~~~~~~~~~
networking.c: In function ‘_writevToClient’:
rdb.c:1453:22: error: implicit declaration of function ‘getcwd’ [-Werror=implicit-function-declaration]
 1453 |         char *cwdp = getcwd(cwd,MAXPATHLEN);
      |                      ^~~~~~
networking.c:1782:22: error: ‘IOV_MAX’ undeclared (first use in this function); did you mean ‘INT_MAX’?
 1782 |     struct iovec iov[IOV_MAX];
      |                      ^~~~~~~
      |                      INT_MAX
rdb.c:1478:16: error: passing argument 1 of ‘fflush’ makes integer from pointer without a cast [-Werror=int-conversion]
 1478 |     if (fflush(fp)) { err_op = "fflush"; goto werr; }
      |                ^~
      |                |
      |                FILE * {aka struct _IO_FILE *}
In file included from rio.h:35,
                 from server.h:36,
                 from rdb.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:31:12: note: expected ‘int’ but argument is of type ‘FILE *’ {aka ‘struct _IO_FILE *’}
   31 | int fflush(int);
      |            ^~~
networking.c:1782:18: error: unused variable ‘iov’ [-Werror=unused-variable]
 1782 |     struct iovec iov[IOV_MAX];
      |                  ^~~
rdb.c:1479:9: error: implicit declaration of function ‘fsync’ [-Werror=implicit-function-declaration]
 1479 |     if (fsync(fileno(fp))) { err_op = "fsync"; goto werr; }
      |         ^~~~~
rdb.c:1479:15: error: implicit declaration of function ‘fileno’ [-Werror=implicit-function-declaration]
 1479 |     if (fsync(fileno(fp))) { err_op = "fsync"; goto werr; }
      |               ^~~~~~
In file included from rdb.c:30:
rdb.c:1481:29: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 1481 |         serverLog(LL_NOTICE,"Unable to reclaim cache after saving RDB: %s", strerror(errno));
      |                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~
      |                                                                             |
      |                                                                             int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:1481:73: note: format string is defined here
 1481 |         serverLog(LL_NOTICE,"Unable to reclaim cache after saving RDB: %s", strerror(errno));
      |                                                                        ~^
      |                                                                         |
      |                                                                         char *
      |                                                                        %d
server.c:1164:13: error: implicit declaration of function ‘WIFSIGNALED’ [-Werror=implicit-function-declaration]
 1164 |         if (WIFSIGNALED(statloc)) bysignal = WTERMSIG(statloc);
      |             ^~~~~~~~~~~
rdb.c:1483:9: error: implicit declaration of function ‘fclose’; did you mean ‘false’? [-Werror=implicit-function-declaration]
 1483 |     if (fclose(fp)) { fp = NULL; err_op = "fclose"; goto werr; }
      |         ^~~~~~
      |         false
rdb.c:1488:9: error: implicit declaration of function ‘rename’ [-Werror=implicit-function-declaration]
 1488 |     if (rename(tmpfile,filename) == -1) {
      |         ^~~~~~
rdb.c:1489:25: error: initialization of ‘char *’ from ‘int’ makes pointer from integer without a cast [-Werror=int-conversion]
 1489 |         char *str_err = strerror(errno);
      |                         ^~~~~~~~
networking.c: In function ‘setProtocolError’:
networking.c:2201:18: error: implicit declaration of function ‘isprint’ [-Werror=implicit-function-declaration]
 2201 |             if (!isprint(*p)) *p = '.';
      |                  ^~~~~~~
networking.c:39:1: note: include ‘<ctype.h>’ or provide a declaration of ‘isprint’
   38 | #include <ctype.h>
  +++ |+#include <ctype.h>
   39 | 
server.c:1164:46: error: implicit declaration of function ‘WTERMSIG’ [-Werror=implicit-function-declaration]
 1164 |         if (WIFSIGNALED(statloc)) bysignal = WTERMSIG(statloc);
      |                                              ^~~~~~~~
rdb.c:1498:9: error: implicit declaration of function ‘unlink’; did you mean ‘bg_unlink’? [-Werror=implicit-function-declaration]
 1498 |         unlink(tmpfile);
      |         ^~~~~~
      |         bg_unlink
In file included from rdb.c:30:
rdb.c:1512:26: error: format ‘%s’ expects argument of type ‘char *’, but argument 4 has type ‘int’ [-Werror=format=]
 1512 |     serverLog(LL_WARNING,"Write error saving DB on disk(%s): %s", err_op, strerror(errno));
      |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          ~~~~~~~~~~~~~~~
      |                                                                           |
      |                                                                           int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:1512:63: note: format string is defined here
 1512 |     serverLog(LL_WARNING,"Write error saving DB on disk(%s): %s", err_op, strerror(errno));
      |                                                              ~^
      |                                                               |
      |                                                               char *
      |                                                              %d
rdb.c:1443:10: error: unused variable ‘cwd’ [-Werror=unused-variable]
 1443 |     char cwd[MAXPATHLEN]; /* Current working dir path for error messages. */
      |          ^~~
In file included from rdb.c:30:
rdb.c: In function ‘rdbSaveBackground’:
rdb.c:1543:34: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 1543 |             serverLog(LL_WARNING,"Can't save in background: fork: %s",
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1544 |                 strerror(errno));
      |                 ~~~~~~~~~~~~~~~   
      |                 |
      |                 int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:1543:68: note: format string is defined here
 1543 |             serverLog(LL_WARNING,"Can't save in background: fork: %s",
      |                                                                   ~^
      |                                                                    |
      |                                                                    char *
      |                                                                   %d
In file included from server.c:30:
server.c:1178:17: error: implicit declaration of function ‘strerror’ [-Werror=implicit-function-declaration]
 1178 |                 strerror(errno),
      |                 ^~~~~~~~
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c: In function ‘rdbRemoveTempFile’:
server.c:1176:34: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 1176 |             serverLog(LL_WARNING,"waitpid() returned an error: %s. "
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1177 |                 "child_type: %s, child_pid = %d",
 1178 |                 strerror(errno),
      |                 ~~~~~~~~~~~~~~~   
      |                 |
      |                 int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:1572:18: error: implicit declaration of function ‘open’; did you mean ‘fopen’? [-Werror=implicit-function-declaration]
 1572 |         int fd = open(tmpfile, O_RDONLY|O_NONBLOCK);
      |                  ^~~~
      |                  fopen
server.c:1176:65: note: format string is defined here
 1176 |             serverLog(LL_WARNING,"waitpid() returned an error: %s. "
      |                                                                ~^
      |                                                                 |
      |                                                                 char *
      |                                                                %d
server.c:1190:17: error: implicit declaration of function ‘exit’ [-Werror=implicit-function-declaration]
 1190 |                 exit(1);
      |                 ^~~~
server.c:65:1: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
   64 | #include <sys/mman.h>
  +++ |+#include <stdlib.h>
   65 | #endif
server.c:1190:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 1190 |                 exit(1);
      |                 ^~~~
server.c:1190:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c: In function ‘serverCron’:
server.c:1333:56: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 1333 |         if (prepareForShutdown(shutdownFlags) == C_OK) exit(0);
      |                                                        ^~~~
server.c:1333:56: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:1336:43: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 1336 |             if (finishShutdown() == C_OK) exit(0);
      |                                           ^~~~
server.c:1336:43: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
In file included from server.c:30:
server.c:1361:17: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 5 has type ‘long long unsigned int’ [-Werror=format=]
 1361 |                 "%lu clients connected (%lu replicas), %zu bytes in use",
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
......
 1364 |                 zmalloc_used_memory());
      |                 ~~~~~~~~~~~~~~~~~~~~~
      |                 |
      |                 long long unsigned int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
cc1: all warnings being treated as errors
server.c:1361:58: note: format string is defined here
 1361 |                 "%lu clients connected (%lu replicas), %zu bytes in use",
      |                                                        ~~^
      |                                                          |
      |                                                          long unsigned int
      |                                                        %llu
make[1]: *** [Makefile:434: lzf_d.o] Error 1
server.c: In function ‘whileBlockedCron’:
server.c:1586:58: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 1586 |         if (prepareForShutdown(SHUTDOWN_NOSAVE) == C_OK) exit(0);
      |                                                          ^~~~
server.c:1586:58: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c: In function ‘clientSetinfoCommand’:
networking.c:2907:10: error: implicit declaration of function ‘strcasecmp’; did you mean ‘strncmp’? [-Werror=implicit-function-declaration]
 2907 |     if (!strcasecmp(attr,"lib-name")) {
      |          ^~~~~~~~~~
      |          strncmp
server.c: In function ‘initServerConfig’:
server.c:2032:24: error: implicit declaration of function ‘sysconf’ [-Werror=implicit-function-declaration]
 2032 |     server.page_size = sysconf(_SC_PAGESIZE);
      |                        ^~~~~~~
rdb.c: In function ‘rdbLoadRioWithLoadingCtx’:
rdb.c:3054:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 3054 |                 exit(1);
      |                 ^~~~
networking.c: In function ‘clientCommand’:
rdb.c:3054:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c:3108:75: error: ‘LONG_MAX’ undeclared (first use in this function)
 3108 |                     if (getRangeLongFromObjectOrReply(c, c->argv[i+1], 1, LONG_MAX, &tmp,
      |                                                                           ^~~~~~~~
networking.c:39:1: note: ‘LONG_MAX’ is defined in header ‘<limits.h>’; did you forget to ‘#include <limits.h>’?
   38 | #include <ctype.h>
  +++ |+#include <limits.h>
   39 | 
server.c: In function ‘restartServer’:
server.c:2122:9: error: implicit declaration of function ‘access’ [-Werror=implicit-function-declaration]
 2122 |     if (access(server.executable,X_OK) == -1) {
      |         ^~~~~~
In file included from server.c:30:
server.c:2133:30: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 2133 |         serverLog(LL_WARNING,"Can't restart: configuration rewrite process "
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 2134 |                              "failed: %s", strerror(errno));
      |                                            ~~~~~~~~~~~~~~~
      |                                            |
      |                                            int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:3089:25: error: implicit declaration of function ‘strcasecmp’; did you mean ‘strncmp’? [-Werror=implicit-function-declaration]
 3089 |             } else if (!strcasecmp(auxkey->ptr,"repl-stream-db")) {
      |                         ^~~~~~~~~~
      |                         strncmp
server.c:2151:13: error: implicit declaration of function ‘fcntl’ [-Werror=implicit-function-declaration]
 2151 |         if (fcntl(j,F_GETFD) != -1) close(j);
      |             ^~~~~
rdb.c:3097:45: error: implicit declaration of function ‘strtoll’ [-Werror=implicit-function-declaration]
 3097 |                 if (rsi) rsi->repl_offset = strtoll(auxval->ptr,NULL,10);
      |                                             ^~~~~~~
server.c:2155:16: error: implicit declaration of function ‘usleep’ [-Werror=implicit-function-declaration]
 2155 |     if (delay) usleep(delay*1000);
      |                ^~~~~~
rdb.c:3104:41: error: implicit declaration of function ‘strtol’ [-Werror=implicit-function-declaration]
 3104 |                 time_t age = time(NULL)-strtol(auxval->ptr,NULL,10);
      |                                         ^~~~~~
server.c:2158:5: error: implicit declaration of function ‘execve’ [-Werror=implicit-function-declaration]
 2158 |     execve(server.executable,server.exec_argv,environ);
      |     ^~~~~~
server.c: In function ‘setOOMScoreAdj’:
server.c:2198:27: error: implicit declaration of function ‘read’ [-Werror=implicit-function-declaration]
 2198 |             if (fd < 0 || read(fd, buf, sizeof(buf)) < 0) {
      |                           ^~~~
rdb.c:3150:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 3150 |                 exit(1);
      |                 ^~~~
rdb.c:3150:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c: In function ‘securityWarningCommand’:
rdb.c:3155:21: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 3155 |                     exit(1);
      |                     ^~~~
In file included from server.c:30:
server.c:2199:39: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 2199 |                 serverLog(LL_WARNING, "Unable to read oom_score_adj: %s", strerror(errno));
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~
      |                                                                           |
      |                                                                           int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:3155:21: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
rdb.c:3186:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 3186 |             exit(1);
      |             ^~~~
server.c:2199:71: note: format string is defined here
 2199 |                 serverLog(LL_WARNING, "Unable to read oom_score_adj: %s", strerror(errno));
      |                                                                      ~^
      |                                                                       |
      |                                                                       char *
      |                                                                      %d
rdb.c:3186:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c:3602:18: error: implicit declaration of function ‘time’; did you mean ‘mstime’? [-Werror=implicit-function-declaration]
 3602 |     time_t now = time(NULL);
      |                  ^~~~
      |                  mstime
networking.c:3604:9: error: implicit declaration of function ‘llabs’ [-Werror=implicit-function-declaration]
 3604 |     if (llabs(now-logged_time) > 60) {
      |         ^~~~~
networking.c:39:1: note: include ‘<stdlib.h>’ or provide a declaration of ‘llabs’
   38 | #include <ctype.h>
  +++ |+#include <stdlib.h>
   39 | 
networking.c:3604:9: error: incompatible implicit declaration of built-in function ‘llabs’ [-Werror=builtin-declaration-mismatch]
 3604 |     if (llabs(now-logged_time) > 60) {
      |         ^~~~~
In file included from server.c:30:
server.c:2224:31: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 2224 |         serverLog(LL_WARNING, "Unable to write oom_score_adj: %s", strerror(errno));
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~
      |                                                                    |
      |                                                                    int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
networking.c:3604:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘llabs’
server.c:2224:64: note: format string is defined here
 2224 |         serverLog(LL_WARNING, "Unable to write oom_score_adj: %s", strerror(errno));
      |                                                               ~^
      |                                                                |
      |                                                                char *
      |                                                               %d
In file included from rdb.c:30:
rdb.c: In function ‘rdbLoad’:
rdb.c:3347:30: error: format ‘%s’ expects argument of type ‘char *’, but argument 4 has type ‘int’ [-Werror=format=]
 3347 |         serverLog(LL_WARNING,"Fatal error: can't open the RDB file %s for reading: %s", filename, strerror(errno));
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~            ~~~~~~~~~~~~~~~
      |                                                                                                   |
      |                                                                                                   int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:3347:85: note: format string is defined here
 3347 |         serverLog(LL_WARNING,"Fatal error: can't open the RDB file %s for reading: %s", filename, strerror(errno));
      |                                                                                    ~^
      |                                                                                     |
      |                                                                                     char *
      |                                                                                    %d
server.c: In function ‘adjustOpenFilesLimit’:
rdb.c:3351:9: error: implicit declaration of function ‘fstat’ [-Werror=implicit-function-declaration]
 3351 |     if (fstat(fileno(fp), &sb) == -1)
      |         ^~~~~
server.c:2249:9: error: implicit declaration of function ‘getrlimit’ [-Werror=implicit-function-declaration]
 2249 |     if (getrlimit(RLIMIT_NOFILE,&limit) == -1) {
      |         ^~~~~~~~~
In file included from server.c:30:
server.c:2250:30: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 2250 |         serverLog(LL_WARNING,"Unable to obtain the current NOFILE limit (%s), assuming 1024 and setting the max clients configuration accordingly.",
      |                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 2251 |             strerror(errno));
      |             ~~~~~~~~~~~~~~~   
      |             |
      |             int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:2250:75: note: format string is defined here
 2250 |         serverLog(LL_WARNING,"Unable to obtain the current NOFILE limit (%s), assuming 1024 and setting the max clients configuration accordingly.",
      |                                                                          ~^
      |                                                                           |
      |                                                                           char *
      |                                                                          %d
rdb.c: In function ‘backgroundSaveDoneHandlerSocket’:
rdb.c:3412:9: error: implicit declaration of function ‘close’ [-Werror=implicit-function-declaration]
 3412 |         close(server.rdb_child_exit_pipe);
      |         ^~~~~
rdb.c: In function ‘killRDBChild’:
rdb.c:3453:5: error: implicit declaration of function ‘kill’ [-Werror=implicit-function-declaration]
 3453 |     kill(server.child_pid, SIGUSR1);
      |     ^~~~
server.c:2270:21: error: implicit declaration of function ‘setrlimit’ [-Werror=implicit-function-declaration]
 2270 |                 if (setrlimit(RLIMIT_NOFILE,&limit) != -1) break;
      |                     ^~~~~~~~~
rdb.c: In function ‘rdbSaveToSlavesSockets’:
rdb.c:3540:17: error: implicit declaration of function ‘read’ [-Werror=implicit-function-declaration]
 3540 |         dummy = read(safe_to_exit_pipe, pipefds, 1);
      |                 ^~~~
server.c:2299:21: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2299 |                     exit(1);
      |                     ^~~~
server.c:2299:21: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
In file included from rdb.c:30:
rdb.c:3546:34: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 3546 |             serverLog(LL_WARNING,"Can't save in background: fork: %s",
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 3547 |                 strerror(errno));
      |                 ~~~~~~~~~~~~~~~   
      |                 |
      |                 int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
In file included from server.c:30:
server.c:2305:38: error: format ‘%s’ expects argument of type ‘char *’, but argument 4 has type ‘int’ [-Werror=format=]
 2305 |                 serverLog(LL_WARNING,"Server can't set maximum open files "
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 2306 |                     "to %llu because of OS error: %s.",
 2307 |                     (unsigned long long) maxfiles, strerror(setrlimit_error));
      |                                                    ~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
rdb.c:3546:68: note: format string is defined here
 3546 |             serverLog(LL_WARNING,"Can't save in background: fork: %s",
      |                                                                   ~^
      |                                                                    |
      |                                                                    char *
      |                                                                   %d
server.c: In function ‘checkTcpBacklogSettings’:
server.c:2330:9: error: implicit declaration of function ‘fgets’ [-Werror=implicit-function-declaration]
 2330 |     if (fgets(buf,sizeof(buf),fp) != NULL) {
      |         ^~~~~
server.c:2330:35: error: comparison between pointer and integer [-Werror]
 2330 |     if (fgets(buf,sizeof(buf),fp) != NULL) {
      |                                   ^~
In file included from server.h:34,
                 from networking.c:30:
networking.c: In function ‘IOThreadMain’:
config.h:284:38: error: implicit declaration of function ‘pthread_setname_np’ [-Werror=implicit-function-declaration]
  284 | #define redis_set_thread_title(name) pthread_setname_np(pthread_self(), name)
      |                                      ^~~~~~~~~~~~~~~~~~
networking.c:4136:5: note: in expansion of macro ‘redis_set_thread_title’
 4136 |     redis_set_thread_title(thdname);
      |     ^~~~~~~~~~~~~~~~~~~~~~
config.h:284:57: error: implicit declaration of function ‘pthread_self’ [-Werror=implicit-function-declaration]
  284 | #define redis_set_thread_title(name) pthread_setname_np(pthread_self(), name)
      |                                                         ^~~~~~~~~~~~
networking.c:4136:5: note: in expansion of macro ‘redis_set_thread_title’
 4136 |     redis_set_thread_title(thdname);
      |     ^~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
networking.c: In function ‘initThreadedIO’:
networking.c:4189:9: error: implicit declaration of function ‘exit’ [-Werror=implicit-function-declaration]
 4189 |         exit(1);
      |         ^~~~
make[1]: *** [Makefile:434: rdb.o] Error 1
networking.c:4189:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c:4189:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
networking.c:4189:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
cc1: all warnings being treated as errors
server.c: In function ‘makeThreadKillable’:
server.c:2522:5: error: implicit declaration of function ‘pthread_setcancelstate’ [-Werror=implicit-function-declaration]
 2522 |     pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, NULL);
      |     ^~~~~~~~~~~~~~~~~~~~~~
make[1]: *** [Makefile:434: zipmap.o] Error 1
server.c:2523:5: error: implicit declaration of function ‘pthread_setcanceltype’ [-Werror=implicit-function-declaration]
 2523 |     pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);
      |     ^~~~~~~~~~~~~~~~~~~~~
networking.c:4200:9: error: implicit declaration of function ‘pthread_mutex_init’ [-Werror=implicit-function-declaration]
 4200 |         pthread_mutex_init(&io_threads_mutex[i],NULL);
      |         ^~~~~~~~~~~~~~~~~~
server.c: In function ‘initServer’:
server.c:2529:5: error: implicit declaration of function ‘signal’ [-Werror=implicit-function-declaration]
 2529 |     signal(SIGHUP, SIG_IGN);
      |     ^~~~~~
server.c:2535:9: error: implicit declaration of function ‘openlog’ [-Werror=implicit-function-declaration]
 2535 |         openlog(server.syslog_ident, LOG_PID | LOG_NDELAY | LOG_NOWAIT,
      |         ^~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: sha1.o] Error 1
networking.c:4203:13: error: implicit declaration of function ‘pthread_create’ [-Werror=implicit-function-declaration]
 4203 |         if (pthread_create(&tid,NULL,IOThreadMain,(void*)(long)i) != 0) {
      |             ^~~~~~~~~~~~~~
server.c:2545:29: error: implicit declaration of function ‘pthread_self’ [-Werror=implicit-function-declaration]
 2545 |     server.main_thread_id = pthread_self();
      |                             ^~~~~~~~~~~~
networking.c:4205:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 4205 |             exit(1);
      |             ^~~~
networking.c:4205:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c: In function ‘killIOThreads’:
networking.c:4214:27: error: comparison of integer expressions of different signedness: ‘pthread_t’ {aka ‘long unsigned int’} and ‘int’ [-Werror=sign-compare]
 4214 |         if (io_threads[j] == pthread_self()) continue;
      |                           ^~
server.c:2580:9: error: implicit declaration of function ‘setlocale’ [-Werror=implicit-function-declaration]
 2580 |     if (setlocale(LC_COLLATE,server.locale_collate) == NULL) {
      |         ^~~~~~~~~
server.c:2580:53: error: comparison between pointer and integer [-Werror]
 2580 |     if (setlocale(LC_COLLATE,server.locale_collate) == NULL) {
      |                                                     ^~
server.c:2582:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2582 |         exit(1);
      |         ^~~~
server.c:2582:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
In file included from server.c:30:
server.c:2592:13: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 2592 |             "Failed creating the event loop. Error message: '%s'",
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 2593 |             strerror(errno));
      |             ~~~~~~~~~~~~~~~
      |             |
      |             int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:2592:63: note: format string is defined here
 2592 |             "Failed creating the event loop. Error message: '%s'",
      |                                                              ~^
      |                                                               |
      |                                                               char *
      |                                                              %d
server.c:2594:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2594 |         exit(1);
      |         ^~~~
server.c:2594:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:2680:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2680 |         exit(1);
      |         ^~~~
server.c:2680:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c: In function ‘initListeners’:
server.c:2739:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2739 |             exit(1);
      |             ^~~~
server.c:2739:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:2743:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2743 |             exit(1);
      |             ^~~~
server.c:2743:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:2777:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2777 |             exit(1);
      |             ^~~~
server.c:2777:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c:4215:30: error: implicit declaration of function ‘pthread_cancel’ [-Werror=implicit-function-declaration]
 4215 |         if (io_threads[j] && pthread_cancel(io_threads[j]) == 0) {
      |                              ^~~~~~~~~~~~~~
server.c:2788:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 2788 |         exit(1);
      |         ^~~~
server.c:2788:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
networking.c:4216:24: error: implicit declaration of function ‘pthread_join’ [-Werror=implicit-function-declaration]
 4216 |             if ((err = pthread_join(io_threads[j],NULL)) != 0) {
      |                        ^~~~~~~~~~~~
In file included from networking.c:30:
networking.c:4219:55: error: implicit declaration of function ‘strerror’ [-Werror=implicit-function-declaration]
 4219 |                         (unsigned long)io_threads[j], strerror(err));
      |                                                       ^~~~~~~~
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
networking.c:4218:21: error: format ‘%s’ expects argument of type ‘char *’, but argument 4 has type ‘int’ [-Werror=format=]
 4218 |                     "IO thread(tid:%lu) can not be joined: %s",
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 4219 |                         (unsigned long)io_threads[j], strerror(err));
      |                                                       ~~~~~~~~~~~~~
      |                                                       |
      |                                                       int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
networking.c:4218:61: note: format string is defined here
 4218 |                     "IO thread(tid:%lu) can not be joined: %s",
      |                                                            ~^
      |                                                             |
      |                                                             char *
      |                                                            %d
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: zmalloc.o] Error 1
server.c: In function ‘closeListeningSockets’:
server.c:4180:13: error: implicit declaration of function ‘unlink’; did you mean ‘bg_unlink’? [-Werror=implicit-function-declaration]
 4180 |         if (unlink(server.unixsocket) != 0)
      |             ^~~~~~
      |             bg_unlink
In file included from server.c:30:
server.c:4181:34: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 4181 |             serverLog(LL_WARNING,"Error removing the unix socket file: %s",strerror(errno));
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~
      |                                                                            |
      |                                                                            int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:4181:73: note: format string is defined here
 4181 |             serverLog(LL_WARNING,"Error removing the unix socket file: %s",strerror(errno));
      |                                                                        ~^
      |                                                                         |
      |                                                                         char *
      |                                                                        %d
In file included from server.h:34,
                 from server.c:30:
server.c: In function ‘finishShutdown’:
config.h:113:25: error: implicit declaration of function ‘fdatasync’ [-Werror=implicit-function-declaration]
  113 | #define redis_fsync(fd) fdatasync(fd)
      |                         ^~~~~~~~~
server.c:4370:13: note: in expansion of macro ‘redis_fsync’
 4370 |         if (redis_fsync(server.aof_fd) == -1) {
      |             ^~~~~~~~~~~
In file included from server.c:30:
server.c:4371:34: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 4371 |             serverLog(LL_WARNING,"Fail to fsync the AOF file: %s.",
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 4372 |                                  strerror(errno));
      |                                  ~~~~~~~~~~~~~~~
      |                                  |
      |                                  int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:4371:64: note: format string is defined here
 4371 |             serverLog(LL_WARNING,"Fail to fsync the AOF file: %s.",
      |                                                               ~^
      |                                                                |
      |                                                                char *
      |                                                               %d
server.c:4424:9: error: implicit declaration of function ‘flock’ [-Werror=implicit-function-declaration]
 4424 |         flock(server.cluster_config_file_lock_fd, LOCK_UN|LOCK_NB);
      |         ^~~~~
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: networking.o] Error 1
server.c: In function ‘genRedisInfoString’:
server.c:5520:13: error: implicit declaration of function ‘strtol’ [-Werror=implicit-function-declaration]
 5520 |             strtol(redisGitDirty(),NULL,10) > 0,
      |             ^~~~~~
server.c:5566:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 6 has type ‘long long unsigned int’ [-Werror=format=]
 5566 |             "# Clients\r\n"
      |             ^~~~~~~~~~~~~~~
......
 5580 |             maxin, maxout,
      |             ~~~~~
      |             |
      |             long long unsigned int
server.c:5570:47: note: format string is defined here
 5570 |             "client_recent_max_input_buffer:%zu\r\n"
      |                                             ~~^
      |                                               |
      |                                               long unsigned int
      |                                             %llu
server.c:5566:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 7 has type ‘long long unsigned int’ [-Werror=format=]
 5566 |             "# Clients\r\n"
      |             ^~~~~~~~~~~~~~~
......
 5580 |             maxin, maxout,
      |                    ~~~~~~
      |                    |
      |                    long long unsigned int
server.c:5571:48: note: format string is defined here
 5571 |             "client_recent_max_output_buffer:%zu\r\n"
      |                                              ~~^
      |                                                |
      |                                                long unsigned int
      |                                              %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 3 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5675 |             zmalloc_used,
      |             ~~~~~~~~~~~~
      |             |
      |             long long unsigned int
server.c:5624:28: note: format string is defined here
 5624 |             "used_memory:%zu\r\n"
      |                          ~~^
      |                            |
      |                            long unsigned int
      |                          %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 5 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5677 |             server.cron_malloc_stats.process_rss,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                     |
      |                                     long long unsigned int
server.c:5626:32: note: format string is defined here
 5626 |             "used_memory_rss:%zu\r\n"
      |                              ~~^
      |                                |
      |                                long unsigned int
      |                              %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 7 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5679 |             server.stat_peak_memory,
      |             ~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5628:33: note: format string is defined here
 5628 |             "used_memory_peak:%zu\r\n"
      |                               ~~^
      |                                 |
      |                                 long unsigned int
      |                               %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 10 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5682 |             mh->overhead_total,
      |             ~~~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: anet.o] Error 1
server.c:5631:37: note: format string is defined here
 5631 |             "used_memory_overhead:%zu\r\n"
      |                                   ~~^
      |                                     |
      |                                     long unsigned int
      |                                   %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 11 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5683 |             mh->startup_allocated,
      |             ~~~~~~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5632:36: note: format string is defined here
 5632 |             "used_memory_startup:%zu\r\n"
      |                                  ~~^
      |                                    |
      |                                    long unsigned int
      |                                  %llu
cc1: all warnings being treated as errors
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 12 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5684 |             mh->dataset,
      |             ~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5633:36: note: format string is defined here
 5633 |             "used_memory_dataset:%zu\r\n"
      |                                  ~~^
      |                                    |
      |                                    long unsigned int
      |                                  %llu
make[1]: *** [Makefile:434: ae.o] Error 1
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 14 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5686 |             server.cron_malloc_stats.allocator_allocated,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                     |
      |                                     long long unsigned int
server.c:5635:36: note: format string is defined here
 5635 |             "allocator_allocated:%zu\r\n"
      |                                  ~~^
      |                                    |
      |                                    long unsigned int
      |                                  %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 15 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5687 |             server.cron_malloc_stats.allocator_active,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                     |
      |                                     long long unsigned int
server.c:5636:33: note: format string is defined here
 5636 |             "allocator_active:%zu\r\n"
      |                               ~~^
      |                                 |
      |                                 long unsigned int
      |                               %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 16 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5688 |             server.cron_malloc_stats.allocator_resident,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                     |
      |                                     long long unsigned int
server.c:5637:35: note: format string is defined here
 5637 |             "allocator_resident:%zu\r\n"
      |                                 ~~^
      |                                   |
      |                                   long unsigned int
      |                                 %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 36 has type ‘ssize_t’ {aka ‘long long int’} [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5708 |             mh->allocator_frag_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~
      |               |
      |               ssize_t {aka long long int}
server.c:5657:37: note: format string is defined here
 5657 |             "allocator_frag_bytes:%zu\r\n"
      |                                   ~~^
      |                                     |
      |                                     long unsigned int
      |                                   %llu
server.c:5623:13: error: format ‘%zd’ expects argument of type ‘signed size_t’, but argument 38 has type ‘ssize_t’ {aka ‘long long int’} [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5710 |             mh->allocator_rss_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~~~~
      |               |
      |               ssize_t {aka long long int}
server.c:5659:36: note: format string is defined here
 5659 |             "allocator_rss_bytes:%zd\r\n"
      |                                  ~~^
      |                                    |
      |                                    long int
      |                                  %lld
server.c:5623:13: error: format ‘%zd’ expects argument of type ‘signed size_t’, but argument 40 has type ‘size_t’ {aka ‘long long unsigned int’} [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5712 |             mh->rss_extra_bytes,
      |             ~~~~~~~~~~~~~~~~~~~
      |               |
      |               size_t {aka long long unsigned int}
server.c:5661:35: note: format string is defined here
 5661 |             "rss_overhead_bytes:%zd\r\n"
      |                                 ~~^
      |                                   |
      |                                   long int
      |                                 %lld
server.c:5623:13: error: format ‘%zd’ expects argument of type ‘signed size_t’, but argument 42 has type ‘ssize_t’ {aka ‘long long int’} [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5717 |             mh->total_frag_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~
      |               |
      |               ssize_t {aka long long int}
server.c:5663:40: note: format string is defined here
 5663 |             "mem_fragmentation_bytes:%zd\r\n"
      |                                      ~~^
      |                                        |
      |                                        long int
      |                                      %lld
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 43 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5718 |             freeMemoryGetNotCountedMemory(),
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |             |
      |             long long unsigned int
server.c:5664:42: note: format string is defined here
 5664 |             "mem_not_counted_for_evict:%zu\r\n"
      |                                        ~~^
      |                                          |
      |                                          long unsigned int
      |                                        %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 44 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5719 |             mh->repl_backlog,
      |             ~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5665:40: note: format string is defined here
 5665 |             "mem_replication_backlog:%zu\r\n"
      |                                      ~~^
      |                                        |
      |                                        long unsigned int
      |                                      %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 45 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5720 |             server.repl_buffer_mem,
      |             ~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5666:46: note: format string is defined here
 5666 |             "mem_total_replication_buffers:%zu\r\n"
      |                                            ~~^
      |                                              |
      |                                              long unsigned int
      |                                            %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 46 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5721 |             mh->clients_slaves,
      |             ~~~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5667:35: note: format string is defined here
 5667 |             "mem_clients_slaves:%zu\r\n"
      |                                 ~~^
      |                                   |
      |                                   long unsigned int
      |                                 %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 47 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5722 |             mh->clients_normal,
      |             ~~~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5668:35: note: format string is defined here
 5668 |             "mem_clients_normal:%zu\r\n"
      |                                 ~~^
      |                                   |
      |                                   long unsigned int
      |                                 %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 48 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5723 |             mh->cluster_links,
      |             ~~~~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5669:34: note: format string is defined here
 5669 |             "mem_cluster_links:%zu\r\n"
      |                                ~~^
      |                                  |
      |                                  long unsigned int
      |                                %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 49 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5724 |             mh->aof_buffer,
      |             ~~~~~~~~~~~~~~
      |               |
      |               long long unsigned int
server.c:5670:31: note: format string is defined here
 5670 |             "mem_aof_buffer:%zu\r\n"
      |                             ~~^
      |                               |
      |                               long unsigned int
      |                             %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 52 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5727 |             lazyfreeGetPendingObjectsCount(),
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |             |
      |             long long unsigned int
server.c:5673:41: note: format string is defined here
 5673 |             "lazyfree_pending_objects:%zu\r\n"
      |                                       ~~^
      |                                         |
      |                                         long unsigned int
      |                                       %llu
server.c:5623:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 53 has type ‘long long unsigned int’ [-Werror=format=]
 5623 |             "# Memory\r\n"
      |             ^~~~~~~~~~~~~~
......
 5728 |             lazyfreeGetFreedObjectsCount()
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |             |
      |             long long unsigned int
server.c:5674:34: note: format string is defined here
 5674 |             "lazyfreed_objects:%zu\r\n",
      |                                ~~^
      |                                  |
      |                                  long unsigned int
      |                                %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 5 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5779 |             server.stat_current_cow_peak,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5749:33: note: format string is defined here
 5749 |             "current_cow_peak:%zu\r\n"
      |                               ~~^
      |                                 |
      |                                 long unsigned int
      |                               %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 6 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5780 |             server.stat_current_cow_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5750:33: note: format string is defined here
 5750 |             "current_cow_size:%zu\r\n"
      |                               ~~^
      |                                 |
      |                                 long unsigned int
      |                               %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 9 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5783 |             server.stat_current_save_keys_processed,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5753:44: note: format string is defined here
 5753 |             "current_save_keys_processed:%zu\r\n"
      |                                          ~~^
      |                                            |
      |                                            long unsigned int
      |                                          %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 10 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5784 |             server.stat_current_save_keys_total,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5754:40: note: format string is defined here
 5754 |             "current_save_keys_total:%zu\r\n"
      |                                      ~~^
      |                                        |
      |                                        long unsigned int
      |                                      %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 18 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5793 |             server.stat_rdb_cow_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5762:34: note: format string is defined here
 5762 |             "rdb_last_cow_size:%zu\r\n"
      |                                ~~^
      |                                  |
      |                                  long unsigned int
      |                                %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 30 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5807 |             server.stat_aof_cow_bytes,
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5774:34: note: format string is defined here
 5774 |             "aof_last_cow_size:%zu\r\n"
      |                                ~~^
      |                                  |
      |                                  long unsigned int
      |                                %llu
server.c:5746:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 32 has type ‘long long unsigned int’ [-Werror=format=]
 5746 |             "# Persistence\r\n"
      |             ^~~~~~~~~~~~~~~~~~~
......
 5809 |             server.stat_module_cow_bytes);
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                   |
      |                   long long unsigned int
server.c:5776:42: note: format string is defined here
 5776 |             "module_fork_last_cow_size:%zu\r\n",
      |                                        ~~^
      |                                          |
      |                                          long unsigned int
      |                                        %llu
server.c:5813:17: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 6 has type ‘long long unsigned int’ [-Werror=format=]
 5813 |                 "aof_current_size:%lld\r\n"
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
......
 5822 |                 sdslen(server.aof_buf),
      |                 ~~~~~~~~~~~~~~~~~~~~~~
      |                 |
      |                 long long unsigned int
server.c:5816:38: note: format string is defined here
 5816 |                 "aof_buffer_length:%zu\r\n"
      |                                    ~~^
      |                                      |
      |                                      long unsigned int
      |                                    %llu
server.c:5886:13: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 34 has type ‘long long unsigned int’ [-Werror=format=]
 5886 |             "# Stats\r\n"
      |             ^~~~~~~~~~~~~
......
 5968 |             getSlaveKeyWithExpireCount(),
      |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |             |
      |             long long unsigned int
server.c:5918:43: note: format string is defined here
 5918 |             "slave_expires_tracked_keys:%zu\r\n"
      |                                         ~~^
      |                                           |
      |                                           long unsigned int
      |                                         %llu
server.c:6131:9: error: implicit declaration of function ‘getrusage’ [-Werror=implicit-function-declaration]
 6131 |         getrusage(RUSAGE_SELF, &self_ru);
      |         ^~~~~~~~~
server.c: In function ‘createPidFile’:
server.c:6332:17: error: passing argument 1 of ‘fprintf’ makes integer from pointer without a cast [-Werror=int-conversion]
 6332 |         fprintf(fp,"%d\n",(int)getpid());
      |                 ^~
      |                 |
      |                 FILE * {aka struct _IO_FILE *}
In file included from rio.h:35,
                 from server.h:36,
                 from server.c:30:
/home/yanjuguang/OS/arceos/ulib/c_libax/include/stdio.h:29:18: note: expected ‘int’ but argument is of type ‘FILE *’ {aka ‘struct _IO_FILE *’}
   29 | void fprintf(int f, const char *fmt, ...);
      |              ~~~~^
In file included from server.c:30:
server.c:6335:31: error: format ‘%s’ expects argument of type ‘char *’, but argument 3 has type ‘int’ [-Werror=format=]
 6335 |         serverLog(LL_WARNING, "Failed to write PID file: %s", strerror(errno));
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~
      |                                                               |
      |                                                               int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:6335:59: note: format string is defined here
 6335 |         serverLog(LL_WARNING, "Failed to write PID file: %s", strerror(errno));
      |                                                          ~^
      |                                                           |
      |                                                           char *
      |                                                          %d
server.c: In function ‘daemonize’:
server.c:6342:9: error: implicit declaration of function ‘fork’ [-Werror=implicit-function-declaration]
 6342 |     if (fork() != 0) exit(0); /* parent exits */
      |         ^~~~
server.c:6342:22: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6342 |     if (fork() != 0) exit(0); /* parent exits */
      |                      ^~~~
server.c:6342:22: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:6343:5: error: implicit declaration of function ‘setsid’ [-Werror=implicit-function-declaration]
 6343 |     setsid(); /* create a new session */
      |     ^~~~~~
server.c:6349:9: error: implicit declaration of function ‘dup2’ [-Werror=implicit-function-declaration]
 6349 |         dup2(fd, STDIN_FILENO);
      |         ^~~~
server.c: In function ‘version’:
server.c:6364:5: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6364 |     exit(0);
      |     ^~~~
server.c:6364:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c: In function ‘usage’:
server.c:6385:5: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6385 |     exit(1);
      |     ^~~~
server.c:6385:5: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c: In function ‘redisAsciiArt’:
server.c:6402:23: error: implicit declaration of function ‘isatty’ [-Werror=implicit-function-declaration]
 6402 |                       isatty(fileno(stdout))) ||
      |                       ^~~~~~
server.c:6402:30: error: implicit declaration of function ‘fileno’ [-Werror=implicit-function-declaration]
 6402 |                       isatty(fileno(stdout))) ||
      |                              ^~~~~~
server.c: In function ‘sigShutdownHandler’:
server.c:6482:9: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6482 |         exit(1); /* Exit with an error since this was not a clean shutdown. */
      |         ^~~~
server.c:6482:9: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c: In function ‘setupSignalHandlers’:
server.c:6497:5: error: implicit declaration of function ‘sigemptyset’ [-Werror=implicit-function-declaration]
 6497 |     sigemptyset(&act.sa_mask);
      |     ^~~~~~~~~~~
server.c:6500:5: error: implicit declaration of function ‘sigaction’; did you mean ‘sa_sigaction’? [-Werror=implicit-function-declaration]
 6500 |     sigaction(SIGTERM, &act, NULL);
      |     ^~~~~~~~~
      |     sa_sigaction
server.c: In function ‘loadDataFromDisk’:
server.c:6744:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6744 |             exit(1);
      |             ^~~~
server.c:6744:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:6795:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 6795 |             exit(1);
      |             ^~~~
server.c:6795:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
In file included from server.c:30:
server.c: In function ‘redisOutOfMemoryHandler’:
server.c:6809:26: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 3 has type ‘long long unsigned int’ [-Werror=format=]
 6809 |     serverLog(LL_WARNING,"Out Of Memory allocating %zu bytes!",
      |                          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 6810 |         allocation_size);
      |         ~~~~~~~~~~~~~~~   
      |         |
      |         long long unsigned int
server.h:3748:27: note: in definition of macro ‘serverLog’
 3748 |         _serverLog(level, __VA_ARGS__);\
      |                           ^~~~~~~~~~~
server.c:6809:54: note: format string is defined here
 6809 |     serverLog(LL_WARNING,"Out Of Memory allocating %zu bytes!",
      |                                                    ~~^
      |                                                      |
      |                                                      long unsigned int
      |                                                    %llu
In file included from server.c:30:
server.c:6811:17: error: format ‘%zu’ expects argument of type ‘size_t’, but argument 4 has type ‘long long unsigned int’ [-Werror=format=]
 6811 |     serverPanic("Redis aborting for OUT OF MEMORY. Allocating %zu bytes!",
      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 6812 |         allocation_size);
      |         ~~~~~~~~~~~~~~~
      |         |
      |         long long unsigned int
server.h:668:57: note: in definition of macro ‘serverPanic’
  668 | #define serverPanic(...) _serverPanic(__FILE__,__LINE__,__VA_ARGS__),redis_unreachable()
      |                                                         ^~~~~~~~~~~
server.c:6811:65: note: format string is defined here
 6811 |     serverPanic("Redis aborting for OUT OF MEMORY. Allocating %zu bytes!",
      |                                                               ~~^
      |                                                                 |
      |                                                                 long unsigned int
      |                                                               %llu
server.c: In function ‘redisSupervisedUpstart’:
server.c:6906:31: error: implicit declaration of function ‘getenv’ [-Werror=implicit-function-declaration]
 6906 |     const char *upstart_job = getenv("UPSTART_JOB");
      |                               ^~~~~~
server.c:6906:31: error: initialization of ‘const char *’ from ‘int’ makes pointer from integer without a cast [-Werror=int-conversion]
server.c:6915:5: error: implicit declaration of function ‘raise’; did you mean ‘raxSize’? [-Werror=implicit-function-declaration]
 6915 |     raise(SIGSTOP);
      |     ^~~~~
      |     raxSize
server.c:6916:5: error: implicit declaration of function ‘unsetenv’; did you mean ‘lua_setfenv’? [-Werror=implicit-function-declaration]
 6916 |     unsetenv("UPSTART_JOB");
      |     ^~~~~~~~
      |     lua_setfenv
server.c: In function ‘main’:
server.c:7060:5: error: implicit declaration of function ‘tzset’ [-Werror=implicit-function-declaration]
 7060 |     tzset(); /* Populates 'timezone' global. */
      |     ^~~~~
server.c:7067:5: error: implicit declaration of function ‘srandom’; did you mean ‘srand’? [-Werror=implicit-function-declaration]
 7067 |     srandom(time(NULL)^getpid()^tv.tv_usec);
      |     ^~~~~~~
      |     srand
server.c:7075:5: error: implicit declaration of function ‘umask’ [-Werror=implicit-function-declaration]
 7075 |     umask(server.umask = umask(0777));
      |     ^~~~~
server.c:7125:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 7125 |                 exit(0);
      |                 ^~~~
server.c:7125:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:7129:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 7129 |                 exit(1);
      |                 ^~~~
server.c:7129:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:7132:13: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 7132 |             exit(syscheck() ? 0 : 1);
      |             ^~~~
server.c:7132:13: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
server.c:7287:17: error: incompatible implicit declaration of built-in function ‘exit’ [-Werror=builtin-declaration-mismatch]
 7287 |                 exit(1);
      |                 ^~~~
server.c:7287:17: note: include ‘<stdlib.h>’ or provide a declaration of ‘exit’
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: quicklist.o] Error 1
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: db.o] Error 1
cc1: all warnings being treated as errors
make[1]: *** [Makefile:434: server.o] Error 1
make[1]: Leaving directory '/home/yanjuguang/OS/arceos/apps/c/redis/src'
make: *** [Makefile:6: all] Error 2
